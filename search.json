[{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_BIOMASS.html","id":"general-workflow-and-required-data","dir":"Articles","previous_headings":"","what":"General workflow and required data","title":"Estimating stand biomass","text":"sake clarity, consistent BIOMASS paper (Réjou-Méchain et al. 2017), vignette follows workflow presented paper:  can seen, estimate ground biomass (AGB) tree, associated uncertainty, based wood density, diameter, height. However, exhaustive values wood density height rarely available forest inventory data. package proposes estimate two covariables, based usual data. vignette, use data obtained 2012 forest inventory conducted 2012 Nouragues forest (French Guiana). educational purpose, virtual trees added data. data contain information wood density height trees. diameter known, estimate can made without information.","code":"data(\"NouraguesTrees\") knitr::kable(head(NouraguesTrees))"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_BIOMASS.html","id":"wood-density","dir":"Articles","previous_headings":"","what":"Wood density","title":"Estimating stand biomass","text":"Wood density estimated tree taxonomy, using Global Wood Density Database v.2 reference. first step might correct tree taxonomy.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_BIOMASS.html","id":"checking-and-retrieving-tree-taxonomy","dir":"Articles","previous_headings":"Wood density","what":"Checking and retrieving tree taxonomy","title":"Estimating stand biomass","text":"done correctTaxo() function, calling , let’s speak cache ! function called first time argument useCache = TRUE, temporary file containing request WFO automatically created existing folder. done, current session use useCache = TRUE access saved temporary file order avoid time-consuming replication server requests. quitting current R session, temporary file removed. calling correctTaxo(), advise define folder host cache file permanently, enabling work offline. said, let’s continue call correctTaxo() function: corrected genus species trees can now added data: , example, species name fourth tree corrected “guyanensis” “guianensis” (fourth row correctTaxo() output TRUE value column nameModified) : can also retrieve APG III families genus names, familyAccepted column.","code":"# By default createCache()  # Or if you want to set your own cache folder createCache(\"the_path_to_your_cache_folder\")  # Or  options(\"BIOMASS.cache\" = \"the_path_to_your_cache_folder\") Taxo <- correctTaxo(   genus = NouraguesTrees$Genus, # genus also accepts the whole species name (genus + species) or (genus + species + author)    species = NouraguesTrees$Species,    useCache = TRUE, interactive = F, preferFuzzy = T) saveRDS(Taxo, file = \"saved_data/Taxo_vignette.rds\") NouraguesTrees$GenusCorrected <- Taxo$genusAccepted NouraguesTrees$SpeciesCorrected <- Taxo$speciesAccepted NouraguesTrees$Species[4] #> [1] \"guyanensis\" Taxo[4,] #>            nameOriginal         nameSubmitted           nameMatched #> 4 Conceveiba guyanensis conceveiba guyanensis Conceveiba guianensis #>            nameAccepted familyAccepted genusAccepted speciesAccepted #> 4 Conceveiba guianensis  Euphorbiaceae    Conceveiba      guianensis #>   nameModified #> 4         TRUE NouraguesTrees$family <- Taxo$familyAccepted"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_BIOMASS.html","id":"getting-wood-density","dir":"Articles","previous_headings":"Wood density","what":"Getting wood density","title":"Estimating stand biomass","text":"Wood densities retrieved using getWoodDensity() function. default, function assigns taxon species- genus-level average least one wood density value species genus available reference database. unidentified trees genus missing reference database, stand-level mean wood density assigned tree. information, number wood density values estimated species, genus plot level: family argument also assigns trees family-level wood density average, bear mind taxon-average approach gives relatively poor estimates genus level (Flores & Coomes 2011). Additional wood density values (mean error) can added using addWoodDensityData argument (invented example):","code":"wood_densities <- getWoodDensity(   genus = NouraguesTrees$GenusCorrected,   species = NouraguesTrees$SpeciesCorrected,   stand = NouraguesTrees$Plot # for unidentified or non-documented trees in the reference database ) #> Your taxonomic table contains 379 taxa #> Warning in getWoodDensity(genus = NouraguesTrees$GenusCorrected, species = #> NouraguesTrees$SpeciesCorrected, : 169 taxa don't match the Global Wood Density #> Database V2. You may provide 'family' to match wood density estimates at family #> level.  NouraguesTrees$WD <- wood_densities$meanWD # At species level sum(wood_densities$levelWD == \"species\") #> [1] 1635 # At genus level sum(wood_densities$levelWD == \"genus\") #> [1] 246 # At plot level sum(!wood_densities$levelWD %in% c(\"genus\", \"species\")) #> [1] 169 LocalWoodDensity <- data.frame(   genus = c(\"Paloue\", \"Handroanthus\"),   species = c(\"princeps\", \"serratifolius\"),   meanWD = c(0.65, 0.72),   sdWD = c(0.061, 0.042))  add_wood_densities <- getWoodDensity(   genus = NouraguesTrees$GenusCorrected,   species = NouraguesTrees$SpeciesCorrected,   family = NouraguesTrees$family,   stand = NouraguesTrees$Plot,   addWoodDensityData = LocalWoodDensity )"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_BIOMASS.html","id":"height","dir":"Articles","previous_headings":"","what":"Height","title":"Estimating stand biomass","text":"tree height measurements rare, rarely exhaustive, BIOMASS proposes three methods estimate tree height: subset well-measured trees available studied region: Construct local Height–Diameter (H-D) allometry : Use continent- region-speciﬁc H–D models proposed Feldpausch et al. (2012) Use generic H–D model based single bioclimatic predictor E (eqn 6a Chave et al. 2014)","code":""},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_BIOMASS.html","id":"building-a-local-h-d-model","dir":"Articles","previous_headings":"Height","what":"Building a local H-D model","title":"Estimating stand biomass","text":"height measurements available NouraguesTrees dataset, use NouraguesHD dataset contains height diameter measurements two 1-ha plots Nouragues forest. modelHD() function used either compare four implemented models ﬁt H–D relationships tropics, compute desired H-D model. first compare four H-D models using linear regression (log^1 log^2 models) nonlinear least squares estimates (Michaelis-Menten Weibull models) :  log2 model lowest RSE, build model using method argument add predictions dataset retrieveH() function: default, bayesian = TRUE modelHD() arguments. case, Bayesian model fitted using brms package (see section Building bayesian Height-Diameter models), ensuring proper propagation parameter uncertainties. method time-consuming, educational purposes, set bayesian = FALSE. Note trees’ heights measured NouraguesTrees dataset, provided heights modelHD(). case, also created model stand/sub-region present NouraguesTrees using plot argument. keep mind even well-measured trees, retrieveH() gives predicted height (see section).","code":"data(\"NouraguesHD\") HD_res <- modelHD(   D = NouraguesHD$D, H = NouraguesHD$H,   useWeight = TRUE, drawGraph = T) #> To build a HD model you must use the parameter 'method' in this function  kable(HD_res) HDmodel <- modelHD(   D = NouraguesHD$D, H = NouraguesHD$H,   method = \"log2\", useWeight = TRUE,    bayesian = FALSE)  H_model <- retrieveH(   D = NouraguesTrees$D,   model = HDmodel)  NouraguesTrees$H_model <-  H_model$H"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_BIOMASS.html","id":"using-the-continent--or-region-speciﬁc-hd-model-feldpausch","dir":"Articles","previous_headings":"Height","what":"Using the continent- or region-speciﬁc H–D model (Feldpausch)","title":"Estimating stand biomass","text":"need compute model , predictions model proposed Feldspausch et al. directly retrieved retrieveH() function. Simply indicate region concerned: Available regions listed documentation function.","code":"H_feldspausch <- retrieveH(   D = NouraguesTrees$D,   region = \"GuianaShield\")  NouraguesTrees$H_feldspausch <- H_feldspausch$H"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_BIOMASS.html","id":"using-the-generic-hd-model-based-on-a-bioclimatic-predictor-chave","dir":"Articles","previous_headings":"Height","what":"Using the generic H–D model based on a bioclimatic predictor (Chave)","title":"Estimating stand biomass","text":"way previous model, predictions model proposed Chave et al. directly retrieved retrieveH() function. Coordinates plot (trees) longitude/latitude format must provided.","code":"data(\"NouraguesCoords\") #contains corner coordinates coords <- apply(NouraguesCoords[c(\"Long\",\"Lat\")] , 2, mean) # compute the mean of the corner coordinates  H_chave  <- retrieveH(   D = NouraguesTrees$D,   coord = coords)  NouraguesTrees$H_chave <- H_chave$H"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_BIOMASS.html","id":"estimate-agb","dir":"Articles","previous_headings":"","what":"Estimate AGB","title":"Estimating stand biomass","text":"tree diameter, wood density height retrieved, generalised allometric model (eqn 4 Chave et al. (2014)) can used computeAGB() function, AGB values reported Mg instead kg: AGB estimates using tree heights obtained “Chave method” (H_chave), accurate provide area coordinates directly instead tree height estimates:","code":"NouraguesTrees$AGB <- computeAGB(   D = NouraguesTrees$D,   WD = NouraguesTrees$WD,   H = NouraguesTrees$H_model #here with the local H-D predictions   ) NouraguesTrees$AGB_Chave <- computeAGB(     D = NouraguesTrees$D,     WD = NouraguesTrees$WD,     coord = coords)"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_BIOMASS.html","id":"propagate-agb-errors","dir":"Articles","previous_headings":"","what":"Propagate AGB errors","title":"Estimating stand biomass","text":"AGBmonteCarlo() function allows user propagate diﬀerent sources error ﬁnal AGB estimate. error propagation due uncertainty model parameters AGB allometric equation (Chave et al. 2014) automatically performed function. However, propagation error due uncertainty model variables (D, WD H) can parameterized user.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_BIOMASS.html","id":"diameter-measurement-error","dir":"Articles","previous_headings":"Propagate AGB errors","what":"Diameter measurement error","title":"Estimating stand biomass","text":"Using Dpropag argument AGBmonteCarlo() function, user can set diameter measurement errors : providing standard deviation value corresponding measurement uncertainty (e.g Dpropag = 1) providing vector standard deviation values associated tree measurement uncertainty using implemented example Chave et al. 2004 Dpropag = \"chave2004\", small errors applied 95% trees large errors remaining 5%","code":"D_error_prop <- AGBmonteCarlo(   D = NouraguesTrees$D, WD = NouraguesTrees$WD, H = NouraguesTrees$H_model,   Dpropag = \"chave2004\",   errWD = rep(0,nrow(NouraguesTrees)), errH = 0 # no error propagation on WD and H here )"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_BIOMASS.html","id":"wood-density-error","dir":"Articles","previous_headings":"Propagate AGB errors","what":"Wood density error","title":"Estimating stand biomass","text":"getWoodDensity() function returns prior standard deviation values associated tree wood density using mean standard deviation global wood density database species, genus family levels. output can provided errWD argument:","code":"WD_error_prop <- AGBmonteCarlo(   D = NouraguesTrees$D, WD = NouraguesTrees$WD, H = NouraguesTrees$H_model,   errWD = wood_densities$sdWD,   Dpropag = 0 , errH = 0 # no error propagation on D and H here )"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_BIOMASS.html","id":"height-error","dir":"Articles","previous_headings":"Propagate AGB errors","what":"Height error","title":"Estimating stand biomass","text":"user can provide either SD value vector SD values associated tree height measurement errors, using errH argument. tree heights estimated via local HD-model, instead providing errH H arguments, user provide output modelHD() function using modelHD argument: Note HDmodel bayesian model, uncertainties parameters propagated error propagation AGBmonteCarlo() function. tree heights estimated via “Feldspausch” method, user provide output retrieveH() function errH argument: tree heights estimated via “Chave” method, user provide coordinates area (trees) using coord argument:","code":"H_model_error_prop <- AGBmonteCarlo(   D = NouraguesTrees$D, WD = NouraguesTrees$WD, # we do not provide H   HDmodel = HDmodel, # but we provide HDmodel   Dpropag = 0 , errWD = rep(0,nrow(NouraguesTrees)) # no error propagation on D and WD here ) H_feld_error_prop <- AGBmonteCarlo(   D = NouraguesTrees$D, WD = NouraguesTrees$WD,   H = NouraguesTrees$H_feldspausch, errH = H_feldspausch$RSE, # we provide H and errH   Dpropag = 0 , errWD = rep(0,nrow(NouraguesTrees)) # no error propagation on D and WD here ) H_chave_error_prop <- AGBmonteCarlo(   D = NouraguesTrees$D, WD = NouraguesTrees$WD, # we do not provide H   coord = coords, # but we provide the vector of median coordinates of the plots   Dpropag = 0 , errWD = rep(0,nrow(NouraguesTrees)) # no error propagation on D and WD here )"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_BIOMASS.html","id":"all-together-and-agb-visualisation-of-plots","dir":"Articles","previous_headings":"Propagate AGB errors","what":"All together and AGB visualisation of plots","title":"Estimating stand biomass","text":"Let’s propagate sources errors using HD-model: first four elements output contain mean, median, standard deviation credibility intervals total AGB dataset nothing AGB plot level. , can use summaryByPlot() function:  Finally, last element ($AGB_simu) AGBmonteCarlo() output matrix containing simulated tree AGB values (rows) iteration Monte Carlo procedure (columns).","code":"error_prop <- AGBmonteCarlo(   D = NouraguesTrees$D, WD = NouraguesTrees$WD, # we do not provide H   HDmodel = HDmodel, # but we provide HDmodel   Dpropag = \"chave2004\",   errWD = wood_densities$sdWD)  error_prop[(1:4)] #> $meanAGB #> [1] 1671.145 #>  #> $medAGB #> [1] 1670.682 #>  #> $sdAGB #> [1] 46.33488 #>  #> $credibilityAGB #>     2.5%    97.5%  #> 1582.272 1764.058 AGB_by_plot <- summaryByPlot(AGB_val = error_prop$AGB_simu, plot = NouraguesTrees$Plot, drawPlot = TRUE)"},{"path":[]},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_BIOMASS.html","id":"mixing-measured_estimated","dir":"Articles","previous_headings":"Some tricks","what":"Mixing measured and estimated height values","title":"Estimating stand biomass","text":"want use mix directly-measured height estimated ones, can proceed follows: Build vector H RSE assume error 0.5 m directly measured trees Apply AGBmonteCarlo setting height values errors (depend whether trees directly measured estimated)","code":"# NouraguesHD contains 163 trees that were not measured NouraguesHD$Hmix <- NouraguesHD$H NouraguesHD$RSEmix <- 0.5 filt <- is.na(NouraguesHD$Hmix) NouraguesHD$Hmix[filt] <- retrieveH(NouraguesHD$D, model = HDmodel)$H[filt] NouraguesHD$RSEmix[filt] <- HDmodel$RSE wd <- getWoodDensity(NouraguesHD$genus, NouraguesHD$species) resultMC <- AGBmonteCarlo(   D = NouraguesHD$D, WD = wd$meanWD, errWD = wd$sdWD,   H = NouraguesHD$Hmix, errH = NouraguesHD$RSEmix,   Dpropag = \"chave2004\" ) summaryByPlot(AGB_val = resultMC$AGB_simu, plot = NouraguesHD$plotId, drawPlot = TRUE)"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_BIOMASS.html","id":"bayesian-models","dir":"Articles","previous_headings":"Some tricks","what":"Building bayesian Height-Diameter models","title":"Estimating stand biomass","text":"Since version 2.2.6, BIOMASS enables build bayesian H-D models using brms package. compiling Stan programme may take time first time around, recommend setting ‘useCache’ argument TRUE modelHD() function. save model .rds file defined cache path, meaning next time, model simply loaded updated, bypassing compilation stage. Michaelis-Menten Weibull methods used, must pay close attention returned models algorithm likely identify numerous local minima estimated parameters. example Weibull method used default arguments:  one can see, two first parameters b (resp. called b_a_Intercept b_b_Intercept) Weibull equation: H=⋅(1−exp(−(D/b)c))H= \\cdot (1-exp(-(D/b)^c)) strongly correlated. Therefore, strongly recommended define priors allow unrealistic values. , need examine meanings Weibull parameters: can considered hypothetical maximum height, defining uniform prior 0 80m seems realistic. b scaling parameter, defining uniform prior 0 high value D (e.g. 90th percentile) makes sense. c shape parameter must 0 1 Besides, since model parameters chain iterations strongly correlated, increase thin, iter warmup required (see help brms::brm() page details). arguments brms::brm() (cited ) can provided modelHD():  Posterior distributions look better right-skewed distributions yet satisfactory. recommend using log2 method RSE given lm nls models (bayesian = FALSE) close.","code":"# First, define the user cache path createCache(\"the_path_to_your_cache_folder\")  # Or  options(\"BIOMASS.cache\" = \"the_path_to_your_cache_folder\")  brm_model <- modelHD(   D = NouraguesHD$D, H = NouraguesHD$H,   method = \"log2\",   bayesian = TRUE, useCache = TRUE)  H_brm_model <- retrieveH(   D = NouraguesTrees$D,   model = brm_model) NouraguesTrees$H_model <-  H_brm_model$H brm_model <- modelHD(   D = NouraguesHD$D, H = NouraguesHD$H,   method = \"weibull\",   bayesian = TRUE, useCache = TRUE)  plot(brm_model$model) weibull_priors <- c(   set_prior(prior = \"uniform(0,80)\", lb = 0, ub = 80, class = \"b\",nlpar = \"a\"),   set_prior(prior = \"uniform(0,100)\", lb = 0, ub = 100, class = \"b\",nlpar = \"b\"),   set_prior(prior = \"uniform(0.01,0.99)\", lb = 0.01, ub = 0.99, class = \"b\",nlpar = \"c\") )  brm_model <- modelHD(D = NouraguesHD$D, H = NouraguesHD$H,                      method = \"weibull\", bayesian = TRUE, useCache = TRUE,                      prior = weibull_priors,                      thin = 10, iter = 6000, warmup = 1000,                      cores = 3 # number of cores = 3 since 3 chains are running  )  plot(brm_model$model)"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_BIOMASS.html","id":"add-your-tricks","dir":"Articles","previous_headings":"Some tricks","what":"Add your tricks","title":"Estimating stand biomass","text":"like share code might useful users (code authorship respected), can create new issue BIOMASS github page, contact Dominique (dominique.lamonica@ird.fr).","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_spatialized_trees_and_forest_stand_metrics.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Spatialize trees and forest stand metrics with BIOMASS","text":"BIOMASS enables users manage plots : calculating projected/geographic coordinates plot’s corners trees relative coordinates (local coordinates, .e. field) visualising plots validating plot’s corners tree coordinates LiDAR data dividing plots subplots summarising tree metric subplot level","code":""},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_spatialized_trees_and_forest_stand_metrics.html","id":"required-data","dir":"Articles","previous_headings":"","what":"Required data","title":"Spatialize trees and forest stand metrics with BIOMASS","text":"Two data frames required perform analysis. One corner plot(s), one trees, contains least coordinates. names corresponding plots several plots (referred ‘Plot’ column) coordinates plot’s corners geographic projected coordinate system (GPS coordinates, referred ‘Xutm’ ‘Yutm’ columns) coordinates plot’s corners plot’s relative coordinate system (local field coordinates, referred ‘Xfield’ ‘Yfield’ columns) vignette, educational purpose, use one two datasets corner coordinates, derived permanent plots Nouragues forest (French Guiana): NouraguesPlot201 contains simulated corner coordinates one plot repeated GPS measurements corner: Head NouraguesPlot201 NouraguesCoords contains corner coordinates four plots single GPS measurement corner, also derived Nouragues forest: Head NouraguesCoords name plots several plots tree coordinates plot’s relative coordinate system (local/field one) desired information trees, diameter, wood density, height, AGB, etc. (see BIOMASS vignette) Head table trees dataset also derived 2012 Nouragues forest dataset, educational purpose, virtual trees erroneous coordinates added data.","code":"data(\"NouraguesPlot201\")  kable(head(NouraguesPlot201), digits = 5, row.names = FALSE, caption = \"Head of NouraguesPlot201\") data(\"NouraguesCoords\")  kable(head(NouraguesCoords), digits = 5, row.names = FALSE, caption = \"Head of NouraguesCoords\") data(\"NouraguesTrees\")  kable(head(NouraguesTrees), digits = 3, row.names = FALSE, caption = \"Head of the table trees\")"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_spatialized_trees_and_forest_stand_metrics.html","id":"checking-plots-coordinates","dir":"Articles","previous_headings":"","what":"Checking plot’s coordinates","title":"Spatialize trees and forest stand metrics with BIOMASS","text":"Two situations may occur: GPS coordinates plot corners considered accurate enough measurements made confident accuracy average. case, shape plot measured field follow GPS coordinates plot corners projected projected/geographic coordinate system. See 3.1.1 measurements GPS coordinates plot corners collected /reliable. case, shape plot measured field considered accurate GPS corner coordinates recalculated fit shape dimensions plot. See 3.1.2 cases, use check_plot_coord() function recommended first step.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_spatialized_trees_and_forest_stand_metrics.html","id":"checking-the-corners-of-the-plot","dir":"Articles","previous_headings":"Checking plot’s coordinates","what":"Checking the corners of the plot","title":"Spatialize trees and forest stand metrics with BIOMASS","text":"check_plot_coord() function handles situations using trust_GPS_corners argument (= TRUE FALSE). can give either geographical coordinates ‘longlat’ argument another projected coordinates ‘proj_coord’ argument corner coordinates.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_spatialized_trees_and_forest_stand_metrics.html","id":"trustGSPcorner","dir":"Articles","previous_headings":"Checking plot’s coordinates > Checking the corners of the plot","what":"If we rely on the GPS coordinates of the corners:","title":"Spatialize trees and forest stand metrics with BIOMASS","text":"1 GPS measurement corner recorded high degree accuracy (geometer, example), already averaged measurements , can supply 4 GPS coordinates function. enough coordinates recorded corner (information, see CEOS good practices protocol, section .1.3.1 ), coordinates averaged corner, resulting 4 reference coordinates. function can also detect remove GPS outliers using ‘rm_outliers’ ‘max_dist’ arguments.  two blue arrows represent origin plot’s relative coordinate system.","code":"check_plot_trust_GPS <- check_plot_coord(   corner_data = NouraguesPlot201,   longlat = c(\"Long\", \"Lat\"),  # or proj_coord = c(\"Xutm\", \"Yutm\"),    rel_coord = c(\"Xfield\", \"Yfield\"),   trust_GPS_corners = T,   draw_plot = TRUE,   max_dist = 10, rm_outliers = TRUE)"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_spatialized_trees_and_forest_stand_metrics.html","id":"trustPlotShape","dir":"Articles","previous_headings":"Checking plot’s coordinates > Checking the corners of the plot","what":"If we rely on the shape of the plot measured on the field:","title":"Spatialize trees and forest stand metrics with BIOMASS","text":"Let’s degrade data mimic case 8 unreliable GPS coordinates.  can see corners plot match GPS measurements. fact, correspond best compromise shape dimensions plot GPS measurements.","code":"degraded_corner_coord <- NouraguesPlot201[c(1:2,11:12,21:22,31:32),]  check_plot_trust_field <- check_plot_coord(   corner_data = degraded_corner_coord,   longlat = c(\"Long\", \"Lat\"),  # or proj_coord = c(\"Xutm\", \"Yutm\"),    rel_coord = c(\"Xfield\", \"Yfield\"),   trust_GPS_corners = FALSE,   draw_plot = TRUE, rm_outliers = FALSE) #>  Be carefull, you may have GNSS measurement outliers.  #>  Removing them may improve the georeferencing of your plot (see rm_outliers and max_dist arguments)."},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_spatialized_trees_and_forest_stand_metrics.html","id":"recovering-reference-corner-coordinates-and-the-associated-polygons","dir":"Articles","previous_headings":"Checking plot’s coordinates","what":"Recovering reference corner coordinates and the associated polygon(s)","title":"Spatialize trees and forest stand metrics with BIOMASS","text":"Reference corner coordinates returned function via $corner_coord output, standardised column names future data processing. Reference corner coordinates associated polygon returned via $polygon output can saved shapefile follows: full details, $outlier_corners output returns information GPS outliers found function, $UTM_code output returns UTM code calculated function geographic coordinates provided, $sd_coord output returns average standard deviation GPS measurements corner X Y axes.","code":"kable(check_plot_trust_GPS$corner_coord, row.names = FALSE, caption = \"Reference corner coordinates\") sf::st_write(check_plot_trust_GPS$polygon, \"your_directory/plot201.shp\")"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_spatialized_trees_and_forest_stand_metrics.html","id":"tree_coordinates","dir":"Articles","previous_headings":"Checking plot’s coordinates","what":"Visualising and retrieving projected tree coordinates","title":"Spatialize trees and forest stand metrics with BIOMASS","text":"Tree coordinates usually measured plot’s relative coordinate system. project projected/GPS system, can supply relative coordinates using tree_data tree_coords arguments.  projected/GPS coordinates trees added tree data-frame returned output $tree_data (columns x_proj/long y_proj/lat). Head $tree_data output output function also standardises names relative tree coordinates (x_rel y_rel) adds is_in_plot column, indicating tree plot . shapefile containing useful information plot, can also display using shapefile argument. Finally, can access modify plot via $plot_design output ggplot object. example, change plot title:","code":"plot201Trees <- NouraguesTrees[NouraguesTrees$Plot==201,]  check_plot_trust_GPS <- check_plot_coord(   corner_data = NouraguesPlot201,   longlat = c(\"Long\", \"Lat\"), rel_coord = c(\"Xfield\", \"Yfield\"),   trust_GPS_corners = TRUE,   tree_data = plot201Trees, tree_coords = c(\"Xfield\",\"Yfield\")) #>  Be careful, one or more trees are not inside the plot defined by rel_coord (see is_in_plot column of tree_data output) kable(head(check_plot_trust_GPS$tree_data[,-c(5,6,7)]), digits = 3, row.names = FALSE, caption = \"Head of the $tree_data output\") plot_to_change <- check_plot_trust_GPS$plot_design plot_to_change <- plot_to_change + ggtitle(\"A custom title\") plot_to_change"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_spatialized_trees_and_forest_stand_metrics.html","id":"integrating-lidar-data","dir":"Articles","previous_headings":"Checking plot’s coordinates","what":"Integrating LiDAR data","title":"Spatialize trees and forest stand metrics with BIOMASS","text":"LiDAR data raster format (typically CHM raster) want compare tree metric, can done ref_raster, prop_tree threshold_tree arguments.","code":"# Load internal CHM raster nouraguesRaster <- terra::rast(system.file(\"extdata\", \"NouraguesRaster.tif\",package = \"BIOMASS\", mustWork = TRUE))  check_plot_trust_GPS <- check_plot_coord(   corner_data = NouraguesPlot201,   longlat = c(\"Long\", \"Lat\"), rel_coord = c(\"Xfield\", \"Yfield\"),   trust_GPS_corners = TRUE,   tree_data = plot201Trees, tree_coords = c(\"Xfield\",\"Yfield\"),   prop_tree = \"D\", threshold_tree = 20, # Display tree diameters >= 20   ref_raster = nouraguesRaster ) #>  Be careful, one or more trees are not inside the plot defined by rel_coord (see is_in_plot column of tree_data output)"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_spatialized_trees_and_forest_stand_metrics.html","id":"checking-multiple-plots-at-once","dir":"Articles","previous_headings":"Checking plot’s coordinates","what":"Checking multiple plots at once","title":"Spatialize trees and forest stand metrics with BIOMASS","text":"corner_data tree_data contain several plots, supply column names containing plots IDs corners trees via plot_ID tree_plot_ID arguments:  aware default, function ask type Enter plot (argument ‘ask = TRUE’).","code":"multiple_checks <- check_plot_coord(   corner_data = NouraguesCoords, # NouraguesCoords contains 4 plots   proj_coord = c(\"Xutm\", \"Yutm\"), rel_coord = c(\"Xfield\", \"Yfield\"),   trust_GPS_corners = TRUE,    plot_ID = \"Plot\",   tree_data = NouraguesTrees, tree_coords = c(\"Xfield\",\"Yfield\"),    prop_tree = \"D\", tree_plot_ID = \"Plot\",   ref_raster = nouraguesRaster) #> In plot 201 : Be careful, one or more trees are not inside the plot defined by rel_coord (see is_in_plot column of tree_data output) #> In plot 213 : Be careful, one or more trees are not inside the plot defined by rel_coord (see is_in_plot column of tree_data output) #> In plot 223 : Be careful, one or more trees are not inside the plot defined by rel_coord (see is_in_plot column of tree_data output)"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_spatialized_trees_and_forest_stand_metrics.html","id":"dividing-plots","dir":"Articles","previous_headings":"","what":"Dividing plots","title":"Spatialize trees and forest stand metrics with BIOMASS","text":"Dividing plots several sub-plots performed using divide_plot() function. function takes relative coordinates 4 corners plot divide grid. aware plot must rectangular plot’s relative coordinates system, .e. 4 right angles: Head divide_plot()$sub_corner_coord output. want stay plot’s relative coordinate system, just set proj_coord = NULL. function also handles imperfect cuts origin grid_tol arguments. example 40mx45m grid origin coordinates set (10 ; 5).  purpose summarising representing subplots (coming next section), function returns coordinates subplot corners can also assign tree subplot tree_data tree_coords arguments: function now returns list containing: sub_corner_coord: coordinates subplot corners previously tree_data: tree data-frame subplot_ID added last column Head divide_plot()$tree_data returns course, function can handle many plots want, using corner_plot_ID tree_plot_ID arguments: Last least, function can account uncertainty corner coordinates using sd_coord n arguments. case, n simulations corner positioning drawn returned via $simu_coord output list. uncertainty (sd) corner position along X- Y- axis equal value sd_coord:","code":"subplots <- divide_plot(   corner_data = check_plot_trust_GPS$corner_coord,   rel_coord = c(\"x_rel\",\"y_rel\"),   proj_coord = c(\"x_proj\",\"y_proj\"),   grid_size = 25 # or c(25,25)   )  kable(head(subplots$sub_corner_coord, 10), digits = 1, row.names = FALSE, caption = \"Head of the divide_plot()$sub_corner_coord output.\") subplots <- divide_plot(   corner_data = check_plot_trust_GPS$corner_coord,    rel_coord = c(\"x_rel\",\"y_rel\"), proj_coord = c(\"x_proj\",\"y_proj\"),   grid_size = c(40,45),    grid_tol = 0.3, # by default =0.1, ie, if more than 10% of the plot is not covered by the grid, it will returned an error   origin = c(10,5)   ) #> Warning in divide_plot_fct(.SD, grid_size, origin):  #> The x-dimension of the plot is not a multiple of the x-dimension of the grid size and origin offset #> Warning in divide_plot_fct(.SD, grid_size, origin):  #> The y-dimension of the plot is not a multiple of the y-dimension of the grid size and origin offset # Add AGB predictions (calculated in Vignette BIOMASS) to plot201Trees AGB_data <- readRDS(\"saved_data/NouraguesTreesAGB.rds\") plot201Trees <- merge(plot201Trees , AGB_data[c(\"Xfield\",\"Yfield\",\"D\",\"AGB\")], sort=FALSE)  subplots <- divide_plot(   corner_data = check_plot_trust_GPS$corner_coord,    rel_coord = c(\"x_rel\",\"y_rel\"),   proj_coord = c(\"x_proj\",\"y_proj\"),   grid_size = 25, # or c(25,25)   tree_data = plot201Trees, tree_coords = c(\"Xfield\",\"Yfield\")   ) #> Warning in divide_plot(corner_data = check_plot_trust_GPS$corner_coord, : One #> or more trees could not be assigned to a subplot (not in a subplot area) kable(head(subplots$tree_data[,-c(2,3,4)]), digits = 1, row.names = FALSE, caption = \"Head of the divide_plot()$tree_data returns\") multiple_subplots <- divide_plot(   corner_data = NouraguesCoords,   rel_coord = c(\"Xfield\",\"Yfield\"), proj_coord = c(\"Xutm\",\"Yutm\"), corner_plot_ID = \"Plot\",   grid_size = 25,    tree_data = NouraguesTrees, tree_coords = c(\"Xfield\",\"Yfield\"), tree_plot_ID = \"Plot\" ) #> Warning in divide_plot(corner_data = NouraguesCoords, rel_coord = c(\"Xfield\", : #> One or more trees could not be assigned to a subplot (not in a subplot area) sd_coord_subplots <- divide_plot(   corner_data = check_plot_trust_GPS$corner_coord,   rel_coord = c(\"x_rel\",\"y_rel\"),   proj_coord = c(\"x_proj\",\"y_proj\"),   grid_size = 25, # or c(25,25)   tree_data = plot201Trees, tree_coords = c(\"Xfield\",\"Yfield\"),   sd_coord = check_plot_trust_GPS$sd_coord, n = 50   ) #> Warning in divide_plot(corner_data = check_plot_trust_GPS$corner_coord, : One #> or more trees could not be assigned to a subplot (not in a subplot area)"},{"path":[]},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_spatialized_trees_and_forest_stand_metrics.html","id":"summarising-tree-metrics","dir":"Articles","previous_headings":"Summarising metrics at subplot level","what":"Summarising tree metrics","title":"Spatialize trees and forest stand metrics with BIOMASS","text":"’ve applied divide_plot() function non-null tree_data argument, can summarise tree metric subplot level subplot_summary() function.  default, function sums metric per subplot divides result area subplot (obtain summary per hectare), can request valid function using fun argument choose raw per hectare summary using per_ha argument.  output function list containing: $tree_summary: summary metric per subplot $polygon: simple feature collection summarised subplot’s polygons $plot_design: ggplot object can easily modified returned polygons can saved shapefile like : course, function can handle many plots provided divide_plot():","code":"subplot_metric <- subplot_summary(   subplots = subplots,   value = \"AGB\", # AGB was added before applying divide_plot()   per_ha = TRUE)  #> [[1]] subplot_metric <- subplot_summary(   subplots = subplots,   value = \"AGB\",   fun = quantile, probs = 0.5, # yes, it is the median   per_ha = FALSE) #> [[1]] # Set the CRS of the polygons subplot_polygons <- sf::st_set_crs(   subplot_metric$polygon ,   value = \"EPSG:2972\") # EPSG:2972 (corresponding to UTM Zone 22N) is the UTM coordinate system of Nouragues  # Save the polygons in a shapefile sf::st_write(subplot_polygons, \"your_directory/subplots_201.shp\") multiple_subplot_metric <- subplot_summary(   subplots = multiple_subplots, draw_plot = FALSE,   value = \"D\", fun = mean, per_ha = FALSE)"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_spatialized_trees_and_forest_stand_metrics.html","id":"summarising-the-agbd-and-its-uncertainties","dir":"Articles","previous_headings":"Summarising metrics at subplot level","what":"Summarising the AGBD and its uncertainties","title":"Spatialize trees and forest stand metrics with BIOMASS","text":"obtained AGB estimates uncertainty using ‘AGBmonteCarlo()’ function (see Estimating stand biomass vignette, can provide output matrix function using AGB_simu argument. function also handles uncertainty corner coordinates subplots argument provided created using sd_coord argument (optional):  simulated AGBs therefore summarised AGBD (.e. AGB per hectare), function returns additional output containing simulations performed: $long_AGB_simu.","code":"subplot_AGBD <- subplot_summary(   subplots = sd_coord_subplots,   AGB_simu = error_prop$AGB_simu # error_prop has been created in the previous vignette ) #> As 'AGB_simu' contains 200 simulations, and 'subplots$simu_coord' contains 50 simulations, 150 simulations will be resampled in 'subplots'. #> [[1]]"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_spatialized_trees_and_forest_stand_metrics.html","id":"summarising-lidar-metrics","dir":"Articles","previous_headings":"Summarising metrics at subplot level","what":"Summarising LiDAR metrics","title":"Spatialize trees and forest stand metrics with BIOMASS","text":"subplot_summary() can also summarise metric contained raster (typically CHM raster obtained LiDAR data) providing ref_raster raster_fun arguments:","code":"raster_summary <- subplot_summary(   subplots = subplots,   ref_raster = nouraguesRaster, raster_fun = median) #> Extracting raster metric...Extracting raster metric done. #> [[1]]"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_spatialized_trees_and_forest_stand_metrics.html","id":"all-at-once","dir":"Articles","previous_headings":"Summarising metrics at subplot level","what":"All at once","title":"Spatialize trees and forest stand metrics with BIOMASS","text":"Let us consider uncertainty coordinates plot corners summarise following information: standard deviation diameter AGB uncertainty mean raster values","code":"subplot_metric <- subplot_summary(   subplots = sd_coord_subplots,   value = \"D\", fun = sd, per_ha = TRUE,   AGB_simu = error_prop$AGB_simu,    ref_raster = nouraguesRaster # by default, the associated function is the mean function   ) #> As 'AGB_simu' contains 200 simulations, and 'subplots$simu_coord' contains 50 simulations, 150 simulations will be resampled in 'subplots'. #> Extracting raster metric...Extracting raster metric done. #> [[1]] #>  #> [[2]] #>  #> [[3]]"},{"path":"https://umr-amap.github.io/BIOMASS/articles/Vignette_spatialized_trees_and_forest_stand_metrics.html","id":"customizing-the-ggplot","dir":"Articles","previous_headings":"Summarising metrics at subplot level","what":"Customizing the ggplot","title":"Spatialize trees and forest stand metrics with BIOMASS","text":"examples custom ggplot subplot_summary() function:","code":"subplot_metric <- subplot_summary(subplots = subplots,                                   value = \"AGB\")  #> [[1]] custom_plot <- subplot_metric$plot_design # Change the title and legend: custom_plot +    labs(title = \"Nouragues plot\" , fill=\"Sum of AGB per hectare\") # Display trees with diameter as size and transparency (and a smaller legend on the right):  custom_plot +    geom_point(data=check_plot_trust_GPS$tree_data, mapping = aes(x = x_proj, y = y_proj, size = D, alpha= D), shape=1,) +   labs(fill = \"Sum of AGB per hectare\") +   guides(alpha = guide_legend(title = \"Diameter (cm)\"),          size = guide_legend(title = \"Diameter (cm)\")) +    theme(legend.position = \"right\", legend.key.size = unit(0.5, 'cm'))"},{"path":"https://umr-amap.github.io/BIOMASS/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Dominique Lamonica. Author, maintainer. Maxime Réjou-Méchain. Author, data contributor. Arthur Bailly. Author. Guillaume Cornu. Author. John Godlee. Contributor. Fabian Fischer. Contributor. Jerome Chave. Contributor. Arthur Pere. Author. Ariane Tanguy. Author. Camille Piponiot. Author. Bruno Hérault. Author. Philippe Verley. Contributor. Ted Feldpausch. Data contributor.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Réjou-Méchain M, Tanguy , Piponiot C, Chave J, Herault B (2017). “BIOMASS : R package estimating -ground biomass uncertainty tropical forests.” Methods Ecology Evolution, 8(9). ISSN 2041210X, doi:10.1111/2041-210X.12753.","code":"@Article{,   title = {BIOMASS : an {R} package for estimating above-ground biomass and its uncertainty in tropical forests},   volume = {8},   issn = {2041210X},   doi = {10.1111/2041-210X.12753},   language = {en},   number = {9},   journal = {Methods in Ecology and Evolution},   author = {Maxime Réjou-Méchain and Ariane Tanguy and Camille Piponiot and Jerome Chave and Bruno Herault},   editor = {Sarah Goslee},   year = {2017}, }"},{"path":[]},{"path":"https://umr-amap.github.io/BIOMASS/index.html","id":"the-package","dir":"","previous_headings":"","what":"The package","title":"Estimating Aboveground Biomass and Its Uncertainty in Tropical Forests","text":"BIOMASS package allows users estimate ground biomass/carbon uncertainty tropical forests. main implemented steps follows : retrieving correcting tree taxonomy; estimating wood density uncertainty; building height-diameter models; estimating ground biomass/carbon stand level associated uncertainty; managing tree plot coordinates; predicting landscape maps AGBD associated uncertainties using LiDAR products. information, see Réjou-Méchain et al. (2017)","code":""},{"path":"https://umr-amap.github.io/BIOMASS/index.html","id":"install-biomass","dir":"","previous_headings":"","what":"Install BIOMASS","title":"Estimating Aboveground Biomass and Its Uncertainty in Tropical Forests","text":"latest released version CRAN: latest version Github (development): use :","code":"install.packages(\"BIOMASS\") install.packages(\"remotes\") remotes::install_github('umr-amap/BIOMASS') library(\"BIOMASS\")"},{"path":"https://umr-amap.github.io/BIOMASS/index.html","id":"tutorialsvignettes","dir":"","previous_headings":"","what":"Tutorials/Vignettes","title":"Estimating Aboveground Biomass and Its Uncertainty in Tropical Forests","text":"Two vignettes available ‘Articles’ section following page : https://umr-amap.github.io/BIOMASS/index.html","code":""},{"path":"https://umr-amap.github.io/BIOMASS/index.html","id":"shiny-application","dir":"","previous_headings":"","what":"Shiny application","title":"Estimating Aboveground Biomass and Its Uncertainty in Tropical Forests","text":"Access shiny version BIOMASS package https://amap-apps.cirad.fr/apps/biomass-app/","code":""},{"path":"https://umr-amap.github.io/BIOMASS/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Estimating Aboveground Biomass and Its Uncertainty in Tropical Forests","text":"Please cite package : Réjou-Méchain M, Tanguy , Piponiot C, Chave J, Herault B (2017). “BIOMASS : R package estimating -ground biomass uncertainty tropical forests.” Methods Ecology Evolution, 8(9). ISSN 2041210X, doi:10.1111/2041-210X.12753. can also run","code":"citation(\"BIOMASS\")"},{"path":"https://umr-amap.github.io/BIOMASS/reference/AGBmonteCarlo.html","id":null,"dir":"Reference","previous_headings":"","what":"Propagating above ground biomass (AGB) or carbon (AGC) errors to the stand level — AGBmonteCarlo","title":"Propagating above ground biomass (AGB) or carbon (AGC) errors to the stand level — AGBmonteCarlo","text":"Propagation errors throughout steps needed compute AGB AGC.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/AGBmonteCarlo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Propagating above ground biomass (AGB) or carbon (AGC) errors to the stand level — AGBmonteCarlo","text":"","code":"AGBmonteCarlo(   D,   WD = NULL,   errWD = NULL,   H = NULL,   errH = NULL,   HDmodel = NULL,   coord = NULL,   Dpropag = NULL,   n = 1000,   Carbon = FALSE,   Dlim = NULL )"},{"path":"https://umr-amap.github.io/BIOMASS/reference/AGBmonteCarlo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Propagating above ground biomass (AGB) or carbon (AGC) errors to the stand level — AGBmonteCarlo","text":"D Vector tree diameters (cm) WD Vector wood density estimates (g/cm3) errWD Vector error associated wood density estimates (size WD) H (option 1) Vector tree heights (m). set, errH must set . errH (H) Residual standard error (RSE) model vector errors (sd values) associated tree height values (latter case vector length H). HDmodel (option 2) Model used estimate tree height tree diameter (output modelHD(), see example). coord (option 3) Coordinates site(s), either vector giving single site (e.g. c(longitude, latitude)) matrix/dataframe two columns (e.g. cbind(longitude, latitude)). coordinates used predict height-diameter allometry bioclimatic variables. Dpropag variable can take three kind values, indicating propagate errors diameter measurements: single numerical value vector size D, representing standard deviation associated diameter measurements \"chave2004\" (important error 5 percent measures, smaller error 95 percent trees). n Number iterations. smaller 50 larger 1000. default n = 1000 Carbon (logical) Whether propagation done carbon value (FALSE default). Dlim (optional) Minimum diameter (cm) ground biomass calculated (diameter Dlim 0 value output).","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/AGBmonteCarlo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Propagating above ground biomass (AGB) or carbon (AGC) errors to the stand level — AGBmonteCarlo","text":"Returns list  (Carbon FALSE): meanAGB: Mean stand AGB value following error propagation medAGB: Median stand AGB value following error propagation sdAGB: Standard deviation stand AGB value following error propagation credibilityAGB: Credibility interval 95\\ AGB_simu: Matrix AGB trees (rows) times n iterations (columns)","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/AGBmonteCarlo.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Propagating above ground biomass (AGB) or carbon (AGC) errors to the stand level — AGBmonteCarlo","text":"See Rejou-Mechain et al. (2017) details error propagation procedure.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/AGBmonteCarlo.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Propagating above ground biomass (AGB) or carbon (AGC) errors to the stand level — AGBmonteCarlo","text":"Chave, J. et al. (2004). Error propagation scaling tropical forest biomass estimates. Philosophical Transactions Royal Society B: Biological Sciences, 359(1443), 409-420. Rejou-Mechain et al. (2017). BIOMASS: R Package estimating -ground biomass uncertainty tropical forests. Methods Ecology Evolution, 8 (9), 1163-1167.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/AGBmonteCarlo.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Propagating above ground biomass (AGB) or carbon (AGC) errors to the stand level — AGBmonteCarlo","text":"Maxime REJOU-MECHAIN, Bruno HERAULT, Camille PIPONIOT, Ariane TANGUY, Arthur PERE","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/AGBmonteCarlo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Propagating above ground biomass (AGB) or carbon (AGC) errors to the stand level — AGBmonteCarlo","text":"","code":"# Load a database data(NouraguesHD) data(NouraguesTrees)  # Modelling height-diameter relationship HDmodel <- modelHD(D = NouraguesHD$D, H = NouraguesHD$H, method = \"log2\", bayesian = FALSE)  # Retrieving wood density values # \\donttest{ NouraguesWD <- getWoodDensity(NouraguesTrees$Genus, NouraguesTrees$Species,   stand = NouraguesTrees$Plot ) #> Your taxonomic table contains 409 taxa #> Warning: 142 taxa don't match the Global Wood Density Database V2. You may provide 'family' to match wood density estimates at family level. # }  # Propagating errors with a standard error for Wood density # \\donttest{ resultMC <- AGBmonteCarlo(   D = NouraguesTrees$D, WD = NouraguesWD$meanWD,   errWD = NouraguesWD$sdWD, HDmodel = HDmodel ) # }  # If only the coordinates are available coord <- c(-52.683213,4.083024 ) # \\donttest{ resultMC <- AGBmonteCarlo(   D = NouraguesTrees$D, WD = NouraguesWD$meanWD,   errWD = NouraguesWD$sdWD, coord = coord ) # }  # Propagating errors with a standard error in wood density in all plots at once # \\donttest{ NouraguesTrees$meanWD <- NouraguesWD$meanWD NouraguesTrees$sdWD <- NouraguesWD$sdWD resultMC <- by(   NouraguesTrees, NouraguesTrees$Plot,   function(x) AGBmonteCarlo(       D = x$D, WD = x$meanWD, errWD = x$sdWD,       HDmodel = HDmodel, Dpropag = \"chave2004\"     ) ) meanAGBperplot <- unlist(sapply(resultMC, \"[\", 1)) credperplot <- sapply(resultMC, \"[\", 4) # } closeAllConnections()"},{"path":"https://umr-amap.github.io/BIOMASS/reference/BIOMASS-package.html","id":null,"dir":"Reference","previous_headings":"","what":"BIOMASS: Estimating Aboveground Biomass and Its Uncertainty in Tropical Forests — BIOMASS-package","title":"BIOMASS: Estimating Aboveground Biomass and Its Uncertainty in Tropical Forests — BIOMASS-package","text":"Contains functions estimating -ground biomass/carbon uncertainty tropical forests. functions allow (1) retrieve correct taxonomy, (2) estimate wood density uncertainty, (3) build height-diameter models, (4) manage tree plot coordinates, (5) estimate -ground biomass/carbon stand level associated uncertainty. cite ‘BIOMASS’, please use citation(‘BIOMASS’). information, see Réjou-Méchain et al. (2017) doi:10.1111/2041-210X.12753 .","code":""},{"path":[]},{"path":"https://umr-amap.github.io/BIOMASS/reference/BIOMASS-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"BIOMASS: Estimating Aboveground Biomass and Its Uncertainty in Tropical Forests — BIOMASS-package","text":"Maintainer: Dominique Lamonica dominique.lamonica@ird.fr Authors: Maxime Réjou-Méchain maxime.rejou@gmail.com [data contributor] Guillaume Cornu gcornu@cirad.fr (ORCID) Arthur Bailly arthur.bailly@ird.fr Arthur Pere Ariane Tanguy Camille Piponiot Bruno Hérault bruno.herault@cirad.fr contributors: Jerome Chave jerome.chave@univ-tlse3.fr [data contributor] Ted Feldpausch T.R.Feldpausch@exeter.ac.uk [data contributor] Philippe Verley philippe.verley@ird.fr [contributor]","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/HDmethods.html","id":null,"dir":"Reference","previous_headings":"","what":"HDmethods — HDmethods","title":"HDmethods — HDmethods","text":"Methods used modeling height-diameter relationship","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/HDmethods.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"HDmethods — HDmethods","text":"","code":"loglogFunction(   data,   weight = NULL,   method,   bayesian,   useCache,   chains,   thin,   iter,   warmup,   ... )  michaelisFunction(   data,   weight = NULL,   bayesian,   useCache,   chains,   thin,   iter,   warmup,   ... )  weibullFunction(   data,   weight = NULL,   bayesian,   useCache,   chains,   thin,   iter,   warmup,   ... )"},{"path":"https://umr-amap.github.io/BIOMASS/reference/HDmethods.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"HDmethods — HDmethods","text":"data Dataset informations height (H) diameter (D) weight (optional) Vector indicating observation weights model. method case loglogFunction, model chosen log1, log2 log3. bayesian logical. FALSE (default) model estimated using frequentist framework (lm nls). TRUE, model estimated Bayesian framework using brms package. useCache logical. bayesian = TRUE, determine wether use cache building Bayesian model (see Details). chains (relevant bayesian = TRUE): Number Markov chains (defaults 3), see brms::brm() thin (relevant bayesian = TRUE): Thinning rate, see brms::brm() iter (relevant bayesian = TRUE): number total iterations per chain (including warmup; defaults 5000), see brms::brm() warmup (relevant bayesian = TRUE): number warmup (aka burnin) iterations (defaults 1000), see brms::brm() ... arguments passed brm(), e.g: prior, cores, etc. See brms::brm()","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/HDmethods.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"HDmethods — HDmethods","text":"functions give output similar one given stats::lm(), obtained michaelisFunction weibullFunction minpack.lm::nlsLM). Result model (lm object bayesian = FALSE, brm object bayesian = TRUE) Result model (nlsM object bayesian = FALSE, brm object bayesian = TRUE) Result model (nlsM object bayesian = FALSE, brm object bayesian = TRUE)","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/HDmethods.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"HDmethods — HDmethods","text":"functions model relationship tree height (H) diameter (D). loglogFunction Compute two types log model (log log2) predict H D. model can : log 1: \\(log(H) = + b*log(D)\\) (equivalent power model) log 2: \\(log(H) = + b*log(D) + c*log(D)^2\\) michaelisFunction Construct Michaelis Menten model form: $$H = (* D) / (B + D)$$ (B model parameters estimated) weibullFunction Construct three parameter Weibull model form: $$H = *(1-exp(-(D/b)^c))$$ (, b, c model parameters estimated)","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/HDmethods.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"HDmethods — HDmethods","text":"Michaelis, L., & Menten, M. L. (1913). Die kinetik der invertinwirkung. Biochem. z, 49(333-369), 352. Weibull, W. (1951). Wide applicability. Journal applied mechanics, 103. Baskerville, G. L. (1972). Use logarithmic regression estimation plant biomass. Canadian Journal Forest Research, 2(1), 49-53.","code":""},{"path":[]},{"path":"https://umr-amap.github.io/BIOMASS/reference/HDmethods.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"HDmethods — HDmethods","text":"Maxime REJOU-MECHAIN, Ariane TANGUY","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/NouraguesCoords.html","id":null,"dir":"Reference","previous_headings":"","what":"Nouragues plot coordinates — NouraguesCoords","title":"Nouragues plot coordinates — NouraguesCoords","text":"Dataset containing corner coordinates 4 plots `Petit Plateau' Nouragues forest (French Guiana).","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/NouraguesCoords.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Nouragues plot coordinates — NouraguesCoords","text":"","code":"data(NouraguesCoords)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/NouraguesCoords.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Nouragues plot coordinates — NouraguesCoords","text":"data frame 16 observations (GPS measurements) 8 following variables : Site: Name site set Nouragues forest Plot: Plot ID site Xfield: Corner location x-axis local coordinate system (defined 4 corners plot) Yfield: Corner location y-axis local coordinate system Xutm: Corner location x-axis UTM coordinate system Yutm: Corner location y-axis UTM coordinate system Long: Corner longitude coordinate Lat: Corner latitude coordinate","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/NouraguesCoords.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Nouragues plot coordinates — NouraguesCoords","text":"Jaouen, Gaëlle, 2023, \"Nouragues forest permanent plots details\", doi:10.18167/DVN1/HXKS4E , CIRAD Dataverse, V2","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/NouraguesCoords.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Nouragues plot coordinates — NouraguesCoords","text":"","code":"data(NouraguesCoords) str(NouraguesCoords) #> 'data.frame':\t16 obs. of  8 variables: #>  $ Site  : chr  \"Petit_Plateau\" \"Petit_Plateau\" \"Petit_Plateau\" \"Petit_Plateau\" ... #>  $ Plot  : int  201 201 201 201 204 204 204 204 213 213 ... #>  $ Xfield: int  0 0 100 100 0 0 100 100 100 100 ... #>  $ Yfield: int  0 100 0 100 300 400 300 400 200 300 ... #>  $ Xutm  : num  313008 313096 312960 313048 313272 ... #>  $ Yutm  : num  451717 451669 451629 451582 451574 ... #>  $ Long  : num  -52.7 -52.7 -52.7 -52.7 -52.7 ... #>  $ Lat   : num  4.08 4.08 4.08 4.08 4.08 ..."},{"path":"https://umr-amap.github.io/BIOMASS/reference/NouraguesHD.html","id":null,"dir":"Reference","previous_headings":"","what":"Height-Diameter data — NouraguesHD","title":"Height-Diameter data — NouraguesHD","text":"Dataset two 1-ha plots Nouragues forest (French Guiana)","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/NouraguesHD.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Height-Diameter data — NouraguesHD","text":"","code":"data(\"NouraguesHD\")"},{"path":"https://umr-amap.github.io/BIOMASS/reference/NouraguesHD.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Height-Diameter data — NouraguesHD","text":"data frame 1051 observations following variables : plotId: Names plots genus: Genus species: Species D: Diameter (cm) H: Height (m) lat: Latitude long: Longitude","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/NouraguesHD.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Height-Diameter data — NouraguesHD","text":"Réjou-Méchain, M. et al. (2015). Using repeated small-footprint LiDAR acquisitions infer spatial temporal variations high-biomass Neotropical forest Remote Sensing Environment, 169, 93-101.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/NouraguesHD.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Height-Diameter data — NouraguesHD","text":"","code":"data(NouraguesHD) str(NouraguesHD) #> 'data.frame':\t1051 obs. of  7 variables: #>  $ plotId : chr  \"Plot1\" \"Plot1\" \"Plot1\" \"Plot1\" ... #>  $ genus  : chr  \"indet\" \"Qualea\" \"Dicorynia\" \"Protium\" ... #>  $ species: chr  \"indet\" \"rosea\" \"guianensis\" \"cf_guianense\" ... #>  $ D      : num  11.5 11.6 83.9 15 36.8 13.5 17.8 17.8 15.9 17.8 ... #>  $ H      : num  12 16 40 18 27 20 24 21 22 24 ... #>  $ lat    : num  4.07 4.07 4.07 4.07 4.07 ... #>  $ long   : num  -52.7 -52.7 -52.7 -52.7 -52.7 ..."},{"path":"https://umr-amap.github.io/BIOMASS/reference/NouraguesPlot201.html","id":null,"dir":"Reference","previous_headings":"","what":"Nouragues plot 201 coordinates — NouraguesPlot201","title":"Nouragues plot 201 coordinates — NouraguesPlot201","text":"Simulated corner coordinates Nouragues 'Petit plateau' plot 201. original coordinates modified make plot non-squared, 10 repeated measurements corner simulated adding random error x y coordinates.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/NouraguesPlot201.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Nouragues plot 201 coordinates — NouraguesPlot201","text":"","code":"data(NouraguesPlot201)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/NouraguesPlot201.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Nouragues plot 201 coordinates — NouraguesPlot201","text":"data frame 40 (simulated GPS measurements) 8 following variables : Site: Name site set Nouragues forest Plot: Plot ID site Xfield: Corner location x-axis local coordinate system (defined 4 corners plot) Yfield: Corner location y-axis local coordinate system Xutm: Corner location x-axis UTM coordinate system Yutm: Corner location y-axis UTM coordinate system Long: Corner longitude coordinate Lat: Corner latitude coordinate","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/NouraguesPlot201.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Nouragues plot 201 coordinates — NouraguesPlot201","text":"Jaouen, Gaëlle, 2023, \"Nouragues forest permanent plots details\", doi:10.18167/DVN1/HXKS4E , CIRAD Dataverse, V2","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/NouraguesPlot201.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Nouragues plot 201 coordinates — NouraguesPlot201","text":"","code":"data(NouraguesPlot201) str(NouraguesPlot201) #> 'data.frame':\t40 obs. of  8 variables: #>  $ Site  : chr  \"Petit_Plateau\" \"Petit_Plateau\" \"Petit_Plateau\" \"Petit_Plateau\" ... #>  $ Plot  : int  201 201 201 201 201 201 201 201 201 201 ... #>  $ Xfield: int  0 0 0 0 0 0 0 0 0 0 ... #>  $ Yfield: int  0 0 0 0 0 0 0 0 0 0 ... #>  $ Xutm  : num  313003 313008 313009 313003 313006 ... #>  $ Yutm  : num  451723 451721 451723 451726 451722 ... #>  $ Long  : num  -52.7 -52.7 -52.7 -52.7 -52.7 ... #>  $ Lat   : num  4.09 4.09 4.09 4.09 4.09 ..."},{"path":"https://umr-amap.github.io/BIOMASS/reference/NouraguesTrees.html","id":null,"dir":"Reference","previous_headings":"","what":"Nouragues forest dataset — NouraguesTrees","title":"Nouragues forest dataset — NouraguesTrees","text":"dataset contains 4 12 plots `Petit Plateau' permanent plots fifth census, 2012, Nouragues forestTree dataset (French Guiana). educational purposes, virtual trees added dataset. Dead trees removed.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/NouraguesTrees.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Nouragues forest dataset — NouraguesTrees","text":"","code":"data(NouraguesTrees)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/NouraguesTrees.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Nouragues forest dataset — NouraguesTrees","text":"data frame 2050 observations (trees) 8 following variables : site: Name site set Nouragues forest plot: Plot ID Xfield: Tree location x-axis local coordinate system (defined 4 corners plot) Yfield: Tree location y-axis local coordinate system family: Tree family genus: Tree genus species: Tree species D: Tree diameter (cm)","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/NouraguesTrees.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Nouragues forest dataset — NouraguesTrees","text":"`Petit Plateau' permanent plots fifth census, 2012, Nouragues forest, https://doi.org/10.18167/DVN1/TZ1RL9, CIRAD Dataverse, V1","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/NouraguesTrees.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Nouragues forest dataset — NouraguesTrees","text":"","code":"data(NouraguesTrees) str(NouraguesTrees) #> 'data.frame':\t2050 obs. of  8 variables: #>  $ Site   : chr  \"Petit_Plateau\" \"Petit_Plateau\" \"Petit_Plateau\" \"Petit_Plateau\" ... #>  $ Plot   : int  201 201 201 201 201 201 201 201 201 201 ... #>  $ Xfield : num  0 0.1 0.2 -4 0.3 ... #>  $ Yfield : num  31.5 75.2 27.6 67.5 39.9 ... #>  $ Family : chr  \"Burseraceae\" \"Anacardiaceae\" \"Lecythidaceae\" \"Euphorbiaceae\" ... #>  $ Genus  : chr  \"Protium\" \"Tapirira\" \"Indet.Lecythidaceae\" \"Conceveiba\" ... #>  $ Species: chr  \"surinamense\" \"guianensis\" \"Indet.\" \"guyanensis\" ... #>  $ D      : num  11 74.4 25.4 10 18.9 10 15.9 10.1 35.9 57.4 ..."},{"path":"https://umr-amap.github.io/BIOMASS/reference/apgFamilies.html","id":null,"dir":"Reference","previous_headings":"","what":"Angiosperm Phylogeny Group (APG III) dataset — apgFamilies","title":"Angiosperm Phylogeny Group (APG III) dataset — apgFamilies","text":"APGIII Families taken Angiosperm Phylogeny Website (http://www.mobot.org/MOBOT/research/APweb/)","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/apgFamilies.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Angiosperm Phylogeny Group (APG III) dataset — apgFamilies","text":"","code":"data(\"apgFamilies\")"},{"path":"https://umr-amap.github.io/BIOMASS/reference/apgFamilies.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Angiosperm Phylogeny Group (APG III) dataset — apgFamilies","text":"data frame 502 observations following 2 variables: order: Vector order famAPG: Vector APGIII families","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/apgFamilies.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Angiosperm Phylogeny Group (APG III) dataset — apgFamilies","text":"Stevens, P. F. (2001 onwards). Angiosperm Phylogeny Website. Version 12, July 2012. Retrieved 2016-07-25 http://www.mobot.org/MOBOT/research/APweb/","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/apgFamilies.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Angiosperm Phylogeny Group (APG III) dataset — apgFamilies","text":"","code":"data(apgFamilies) str(apgFamilies) #> 'data.frame':\t502 obs. of  2 variables: #>  $ order : chr  \"Acorales\" \"Alismatales\" \"Alismatales\" \"Alismatales\" ... #>  $ famAPG: chr  \"Acoraceae\" \"Alismataceae\" \"Aponogetonaceae\" \"Araceae\" ..."},{"path":"https://umr-amap.github.io/BIOMASS/reference/attributeTree.html","id":null,"dir":"Reference","previous_headings":"","what":"Attribute trees to subplots — attributeTree","title":"Attribute trees to subplots — attributeTree","text":"attributeTree() now deprecated. tree attribution subplots now done divide_plot() function Please see vignette Spatialized trees forest stand metrics BIOMASS Function attribute trees subplot, trees exterior subplot marked NA","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/attributeTree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Attribute trees to subplots — attributeTree","text":"","code":"attributeTree(xy, plot, coordAbs)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/attributeTree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Attribute trees to subplots — attributeTree","text":"xy coordinates trees plot plot label plot (length number rows xy) coordAbs Output function cutPlot()","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/attributeTree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Attribute trees to subplots — attributeTree","text":"vector code subplot trees, code plot_X_Y. X Y coordinate tree inside plot regards corresponding subplot.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/attributeTree.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Attribute trees to subplots — attributeTree","text":"Arthur PERE","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/attributeTree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Attribute trees to subplots — attributeTree","text":"","code":"# Trees relative coordinates xy <- data.frame(x = runif(200, min = 0, max = 200), y = runif(200, min = 0, max = 200))   # cut the plot in multiple part coord <- data.frame(X = rep(c(0, 200, 0, 200), 2), Y = rep(c(0, 0, 200, 200), 2)) coord[1:4, ] <- coord[1:4, ] + 5000 coord[5:8, ] <- coord[5:8, ] + 6000 corner <- rep(c(1, 2, 4, 3), 2) plot <- rep(c(\"plot1\", \"plot2\"), each = 4)  cut <- cutPlot(coord, plot, corner, gridsize = 100, dimX = 200, dimY = 200) #> Warning: 'cutPlot()' has been replaced by `divide_plot()` and will be removed in the next version. #> Please see the vignette `Spatialized trees and forest stand metrics with BIOMASS`   # Assign a plot to 200 trees plot <- rep(c(\"plot1\", \"plot2\"), 100)  # attribute trees to subplots attributeTree(xy, plot, cut) #> Warning: 'attributeTree()' is deprecated and will be removed in the next version. The tree attribution to subplots is now done by the `divide_plot()` function #> Please see the vignette `Spatialized trees and forest stand metrics with BIOMASS` #>   [1] \"plot1_0_0\" \"plot2_1_1\" \"plot1_1_1\" \"plot2_1_1\" \"plot1_1_0\" \"plot2_1_0\" #>   [7] \"plot1_0_1\" \"plot2_0_0\" \"plot1_1_0\" \"plot2_0_1\" \"plot1_0_0\" \"plot2_0_1\" #>  [13] \"plot1_1_1\" \"plot2_0_1\" \"plot1_1_0\" \"plot2_1_0\" \"plot1_0_1\" \"plot2_0_1\" #>  [19] \"plot1_0_0\" \"plot2_0_1\" \"plot1_1_0\" \"plot2_1_1\" \"plot1_0_1\" \"plot2_1_1\" #>  [25] \"plot1_0_1\" \"plot2_0_1\" \"plot1_1_0\" \"plot2_0_0\" \"plot1_1_1\" \"plot2_1_1\" #>  [31] \"plot1_0_0\" \"plot2_0_0\" \"plot1_1_0\" \"plot2_1_1\" \"plot1_1_0\" \"plot2_0_0\" #>  [37] \"plot1_0_0\" \"plot2_1_0\" \"plot1_1_1\" \"plot2_0_1\" \"plot1_1_1\" \"plot2_0_0\" #>  [43] \"plot1_0_0\" \"plot2_1_1\" \"plot1_0_0\" \"plot2_1_1\" \"plot1_1_1\" \"plot2_1_1\" #>  [49] \"plot1_0_1\" \"plot2_1_1\" \"plot1_0_0\" \"plot2_0_1\" \"plot1_0_0\" \"plot2_1_1\" #>  [55] \"plot1_0_0\" \"plot2_0_0\" \"plot1_1_1\" \"plot2_1_0\" \"plot1_1_0\" \"plot2_0_0\" #>  [61] \"plot1_1_1\" \"plot2_0_0\" \"plot1_1_0\" \"plot2_0_1\" \"plot1_0_0\" \"plot2_0_1\" #>  [67] \"plot1_0_1\" \"plot2_0_1\" \"plot1_1_1\" \"plot2_1_0\" \"plot1_0_0\" \"plot2_1_1\" #>  [73] \"plot1_0_1\" \"plot2_1_0\" \"plot1_0_0\" \"plot2_1_1\" \"plot1_1_0\" \"plot2_0_0\" #>  [79] \"plot1_0_1\" \"plot2_0_0\" \"plot1_1_0\" \"plot2_1_1\" \"plot1_0_1\" \"plot2_1_1\" #>  [85] \"plot1_1_1\" \"plot2_0_0\" \"plot1_1_1\" \"plot2_1_0\" \"plot1_0_0\" \"plot2_0_0\" #>  [91] \"plot1_1_1\" \"plot2_1_0\" \"plot1_0_1\" \"plot2_0_1\" \"plot1_0_0\" \"plot2_0_0\" #>  [97] \"plot1_0_1\" \"plot2_1_0\" \"plot1_0_1\" \"plot2_1_1\" \"plot1_1_1\" \"plot2_0_1\" #> [103] \"plot1_0_0\" \"plot2_1_0\" \"plot1_1_0\" \"plot2_0_0\" \"plot1_0_1\" \"plot2_0_0\" #> [109] \"plot1_1_1\" \"plot2_1_1\" \"plot1_1_0\" \"plot2_0_0\" \"plot1_1_1\" \"plot2_0_0\" #> [115] \"plot1_1_0\" \"plot2_1_1\" \"plot1_0_1\" \"plot2_1_1\" \"plot1_0_0\" \"plot2_0_0\" #> [121] \"plot1_1_0\" \"plot2_0_1\" \"plot1_1_1\" \"plot2_0_0\" \"plot1_1_0\" \"plot2_1_0\" #> [127] \"plot1_1_1\" \"plot2_1_1\" \"plot1_0_1\" \"plot2_1_1\" \"plot1_1_1\" \"plot2_1_0\" #> [133] \"plot1_0_0\" \"plot2_0_1\" \"plot1_0_0\" \"plot2_1_0\" \"plot1_0_0\" \"plot2_1_1\" #> [139] \"plot1_1_0\" \"plot2_1_0\" \"plot1_1_0\" \"plot2_0_1\" \"plot1_1_0\" \"plot2_1_1\" #> [145] \"plot1_0_1\" \"plot2_0_0\" \"plot1_0_1\" \"plot2_0_0\" \"plot1_0_1\" \"plot2_0_0\" #> [151] \"plot1_0_0\" \"plot2_0_1\" \"plot1_1_0\" \"plot2_0_0\" \"plot1_0_1\" \"plot2_1_0\" #> [157] \"plot1_0_1\" \"plot2_1_0\" \"plot1_1_0\" \"plot2_1_1\" \"plot1_0_0\" \"plot2_0_1\" #> [163] \"plot1_1_1\" \"plot2_0_1\" \"plot1_0_0\" \"plot2_1_1\" \"plot1_1_1\" \"plot2_1_0\" #> [169] \"plot1_0_0\" \"plot2_1_1\" \"plot1_0_0\" \"plot2_1_1\" \"plot1_0_0\" \"plot2_0_0\" #> [175] \"plot1_0_0\" \"plot2_0_1\" \"plot1_1_0\" \"plot2_0_1\" \"plot1_0_0\" \"plot2_1_0\" #> [181] \"plot1_0_1\" \"plot2_1_0\" \"plot1_0_0\" \"plot2_1_0\" \"plot1_1_1\" \"plot2_1_1\" #> [187] \"plot1_0_0\" \"plot2_0_1\" \"plot1_0_0\" \"plot2_1_0\" \"plot1_1_1\" \"plot2_0_0\" #> [193] \"plot1_1_0\" \"plot2_1_1\" \"plot1_1_0\" \"plot2_0_1\" \"plot1_1_1\" \"plot2_0_0\" #> [199] \"plot1_0_0\" \"plot2_0_1\""},{"path":"https://umr-amap.github.io/BIOMASS/reference/attributeTreeCoord.html","id":null,"dir":"Reference","previous_headings":"","what":"Attribute GPS coordinates to trees — attributeTreeCoord","title":"Attribute GPS coordinates to trees — attributeTreeCoord","text":"attributeTreeCoord() deprecated. projected tree coordinates now retrieved check_plot_coord() function Please see vignette Spatialized trees forest stand metrics BIOMASS","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/attributeTreeCoord.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Attribute GPS coordinates to trees — attributeTreeCoord","text":"","code":"attributeTreeCoord(xy, plot, dim, coordAbs)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/attributeTreeCoord.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Attribute GPS coordinates to trees — attributeTreeCoord","text":"xy relative coordinates trees within plot plot label plot (length number rows xy length 1) dim dimension plot (either one value plot square vector rectangle) coordAbs result function cutPlot() numberCorner()","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/attributeTreeCoord.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Attribute GPS coordinates to trees — attributeTreeCoord","text":"data frame two columns: - Xproj: X coordinates absolute coordinate system - Yproj: Y coordinates absolute coordinate system","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/attributeTreeCoord.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Attribute GPS coordinates to trees — attributeTreeCoord","text":"","code":"# Trees relative coordinates xy <- data.frame(x = runif(200, min = 0, max = 200), y = runif(200, min = 0, max = 200))   # cut the plot in multiple part coord <- data.frame(X = rep(c(0, 200, 0, 200), 2), Y = rep(c(0, 0, 200, 200), 2)) coord[1:4, ] <- coord[1:4, ] + 5000 coord[5:8, ] <- coord[5:8, ] + 6000 corner <- rep(c(1, 2, 4, 3), 2) Forestplot <- rep(c(\"plot1\", \"plot2\"), each = 4)  Outcut <- cutPlot(coord, Forestplot, corner, gridsize = 100, dimX = 200, dimY = 200) #> Warning: 'cutPlot()' has been replaced by `divide_plot()` and will be removed in the next version. #> Please see the vignette `Spatialized trees and forest stand metrics with BIOMASS`   # Assign a plot to 200 trees Forestplot <- rep(c(\"plot1\", \"plot2\"), 100)  # attribute trees to subplots attributeTreeCoord(xy, Forestplot, dim =100,coordAbs = Outcut) #> Warning: 'attributeTreeCoord()' is deprecated and will be removed in the next version. The projected tree coordinates are now retrieved by the `check_plot_coord()` function #> Please see the vignette `Spatialized trees and forest stand metrics with BIOMASS` #>        Xproj    Yproj #> 1   5004.024 5040.612 #> 2   6106.645 6060.872 #> 3   5082.551 5138.873 #> 4   6155.580 6016.514 #> 5   5015.527 5121.356 #> 6   6039.405 6177.680 #> 7   5114.933 5065.944 #> 8   6020.264 6096.299 #> 9   5158.465 5099.467 #> 10  6138.018 6108.825 #> 11  5126.354 5197.868 #> 12  6029.010 6152.983 #> 13  5137.937 5052.985 #> 14  6065.170 6158.257 #> 15  5194.667 5081.021 #> 16  6145.179 6048.164 #> 17  5120.565 5080.836 #> 18  6093.450 6109.903 #> 19  5164.520 5069.814 #> 20  6173.970 6062.262 #> 21  5018.340 5196.269 #> 22  6030.853 6039.083 #> 23  5019.657 5135.411 #> 24  6087.411 6074.602 #> 25  5084.760 5197.328 #> 26  6179.810 6190.161 #> 27  5139.655 5040.345 #> 28  6003.350 6163.093 #> 29  5181.712 5170.556 #> 30  6179.749 6105.113 #> 31  5023.763 5045.406 #> 32  6173.854 6122.827 #> 33  5103.498 5172.003 #> 34  6129.366 6118.202 #> 35  5131.481 5191.043 #> 36  6077.915 6088.752 #> 37  5155.728 5037.956 #> 38  6066.749 6023.780 #> 39  5028.881 5091.182 #> 40  6042.316 6075.868 #> 41  5128.182 5049.533 #> 42  6017.867 6124.426 #> 43  5111.313 5107.801 #> 44  6058.520 6063.612 #> 45  5154.185 5141.434 #> 46  6160.596 6032.823 #> 47  5056.706 5047.031 #> 48  6104.743 6184.084 #> 49  5085.677 5025.855 #> 50  6117.283 6059.874 #> 51  5060.168 5089.519 #> 52  6181.480 6173.845 #> 53  5184.794 5064.150 #> 54  6183.827 6024.706 #> 55  5090.813 5182.722 #> 56  6074.180 6073.301 #> 57  5085.399 5152.728 #> 58  6189.424 6003.514 #> 59  5016.562 5100.408 #> 60  6178.319 6141.866 #> 61  5041.663 5074.091 #> 62  6052.846 6104.616 #> 63  5121.294 5079.900 #> 64  6024.693 6052.376 #> 65  5113.074 5168.817 #> 66  6180.495 6027.526 #> 67  5151.581 5074.794 #> 68  6004.009 6169.118 #> 69  5121.936 5156.979 #> 70  6179.544 6167.932 #> 71  5022.809 5172.258 #> 72  6087.794 6199.489 #> 73  5026.206 5173.432 #> 74  6044.608 6012.028 #> 75  5158.864 5181.596 #> 76  6134.653 6026.168 #> 77  5070.014 5107.231 #> 78  6014.761 6100.685 #> 79  5183.751 5084.792 #> 80  6174.424 6000.674 #> 81  5113.197 5188.214 #> 82  6107.187 6142.129 #> 83  5071.601 5196.785 #> 84  6039.890 6172.282 #> 85  5147.740 5122.117 #> 86  6122.901 6096.172 #> 87  5070.654 5008.817 #> 88  6086.189 6132.855 #> 89  5174.091 5195.699 #> 90  6185.937 6040.027 #> 91  5118.276 5112.675 #> 92  6180.947 6187.691 #> 93  5197.692 5141.985 #> 94  6016.709 6060.359 #> 95  5080.534 5017.592 #> 96  6150.580 6082.330 #> 97  5019.982 5022.049 #> 98  6022.498 6004.338 #> 99  5124.318 5159.125 #> 100 6020.023 6106.865 #> 101 5065.401 5137.763 #> 102 6196.907 6109.905 #> 103 5108.154 5194.123 #> 104 6199.260 6037.800 #> 105 5128.538 5124.671 #> 106 6153.411 6004.794 #> 107 5113.339 5150.426 #> 108 6133.258 6092.237 #> 109 5030.443 5007.412 #> 110 6092.011 6027.382 #> 111 5027.313 5156.649 #> 112 6017.239 6157.920 #> 113 5020.803 5129.899 #> 114 6140.670 6096.036 #> 115 5084.532 5042.776 #> 116 6157.695 6186.153 #> 117 5073.971 5071.387 #> 118 6176.024 6091.612 #> 119 5159.437 5187.249 #> 120 6078.725 6056.643 #> 121 5121.963 5087.991 #> 122 6057.897 6164.026 #> 123 5105.919 5173.174 #> 124 6168.303 6144.012 #> 125 5153.163 5054.710 #> 126 6037.706 6138.035 #> 127 5167.521 5102.153 #> 128 6127.009 6171.452 #> 129 5131.913 5192.977 #> 130 6172.370 6186.470 #> 131 5169.645 5100.354 #> 132 6013.171 6033.997 #> 133 5019.181 5070.975 #> 134 6185.000 6066.213 #> 135 5075.416 5084.909 #> 136 6012.820 6032.873 #> 137 5018.950 5053.169 #> 138 6168.044 6090.653 #> 139 5190.995 5072.946 #> 140 6192.304 6133.736 #> 141 5124.997 5029.613 #> 142 6007.143 6109.656 #> 143 5131.724 5036.488 #> 144 6002.990 6001.507 #> 145 5094.275 5014.560 #> 146 6146.762 6138.600 #> 147 5071.194 5195.109 #> 148 6026.884 6037.334 #> 149 5090.179 5120.338 #> 150 6008.675 6044.365 #> 151 5082.159 5133.183 #> 152 6106.716 6035.862 #> 153 5167.925 5140.411 #> 154 6057.013 6002.164 #> 155 5060.940 5111.402 #> 156 6139.592 6186.633 #> 157 5176.981 5072.097 #> 158 6166.932 6187.152 #> 159 5151.638 5165.374 #> 160 6079.662 6045.754 #> 161 5051.275 5177.501 #> 162 6170.958 6116.920 #> 163 5126.755 5143.727 #> 164 6085.147 6034.320 #> 165 5188.294 5163.040 #> 166 6002.547 6133.206 #> 167 5160.786 5154.684 #> 168 6138.333 6127.756 #> 169 5083.115 5191.990 #> 170 6164.356 6111.548 #> 171 5080.623 5019.661 #> 172 6070.548 6116.773 #> 173 5125.007 5001.894 #> 174 6063.554 6168.687 #> 175 5160.114 5131.921 #> 176 6096.885 6106.561 #> 177 5054.341 5040.364 #> 178 6128.836 6188.745 #> 179 5152.038 5080.583 #> 180 6042.467 6011.623 #> 181 5110.991 5042.171 #> 182 6136.168 6177.581 #> 183 5112.976 5022.478 #> 184 6049.388 6129.331 #> 185 5082.340 5187.601 #> 186 6087.498 6061.079 #> 187 5004.952 5008.835 #> 188 6135.719 6179.018 #> 189 5037.872 5151.306 #> 190 6095.403 6095.633 #> 191 5096.361 5096.927 #> 192 6132.549 6084.518 #> 193 5183.739 5196.865 #> 194 6142.663 6198.113 #> 195 5140.577 5166.549 #> 196 6086.291 6023.114 #> 197 5136.350 5060.084 #> 198 6014.519 6116.742 #> 199 5088.946 5131.931 #> 200 6135.197 6185.601"},{"path":"https://umr-amap.github.io/BIOMASS/reference/bilinear_interpolation.html","id":null,"dir":"Reference","previous_headings":"","what":"Generalized bilinear interpolation of coordinates — bilinear_interpolation","title":"Generalized bilinear interpolation of coordinates — bilinear_interpolation","text":"Apply generalized bilinear interpolation convert coordinates one original coordinate system another, using plot's 4 corner coordinates system.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/bilinear_interpolation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generalized bilinear interpolation of coordinates — bilinear_interpolation","text":"","code":"bilinear_interpolation(   coord,   from_corner_coord,   to_corner_coord,   ordered_corner = F )"},{"path":"https://umr-amap.github.io/BIOMASS/reference/bilinear_interpolation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generalized bilinear interpolation of coordinates — bilinear_interpolation","text":"coord matrix data.frame : coordinates transformed, X Y corresponding first two columns from_corner_coord matrix data.frame : corner coordinates rectangular plot original coordinate system, X Y corresponding first two columns to_corner_coord matrix data.frame : corner coordinates plot coordinate system projected, line order from_corner_coord , X Y corresponding first two columns ordered_corner logical, TRUE : indicating from_corner_coord to_corner_coord rows sorted correct order (clockwise counter-clockwise)","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/bilinear_interpolation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generalized bilinear interpolation of coordinates — bilinear_interpolation","text":"data.frame containing converted coordinates","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/bilinear_interpolation.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generalized bilinear interpolation of coordinates — bilinear_interpolation","text":"plot represented 4 coordinates from_corner_coord must 4 right angles, .e. rectangular (square) plot. ordered_corner = FALSE, function automatically reassigns corners counter-clockwise order.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/bilinear_interpolation.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Generalized bilinear interpolation of coordinates — bilinear_interpolation","text":"C. -C. Wei C. -H. Chen, \"Generalized Bilinear Interpolation Motion Vectors Quad-Tree Mesh,\" 2008 International Conference Intelligent Information Hiding Multimedia Signal Processing, Harbin, China, 2008, pp. 635-638, doi: 10.1109/IIH-MSP.2008.283.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/bilinear_interpolation.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Generalized bilinear interpolation of coordinates — bilinear_interpolation","text":"Arthur Bailly","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/bilinear_interpolation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generalized bilinear interpolation of coordinates — bilinear_interpolation","text":"","code":"from_corner_coord <- expand.grid(X = c(0, 100), Y = c(0, 50)) rot_mat <- matrix(c(cos(-pi/6),sin(-pi/6),-sin(-pi/6),cos(-pi/6)),nrow=2) to_corner_coord <- as.matrix(from_corner_coord) %*% rot_mat to_corner_coord <- sweep(to_corner_coord, 2, c(50,100), FUN = \"+\") coord <- expand.grid(X = seq(0,100,10), Y = seq(0,50,5)) projCoord = bilinear_interpolation(coord = coord,                                    from_corner_coord = from_corner_coord,                                    to_corner_coord = to_corner_coord)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/cacheManager.html","id":null,"dir":"Reference","previous_headings":"","what":"Function that return a possibly cached file, transparently downloading it if missing — cacheManager","title":"Function that return a possibly cached file, transparently downloading it if missing — cacheManager","text":"Function return possibly cached file, transparently downloading missing","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/cacheManager.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function that return a possibly cached file, transparently downloading it if missing — cacheManager","text":"","code":"cacheManager(nameFile)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/cacheManager.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function that return a possibly cached file, transparently downloading it if missing — cacheManager","text":"nameFile character. file resolve cached path.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/cacheManager.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function that return a possibly cached file, transparently downloading it if missing — cacheManager","text":"file path resolved cached file.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/cacheManager.html","id":"localisation","dir":"Reference","previous_headings":"","what":"Localisation","title":"Function that return a possibly cached file, transparently downloading it if missing — cacheManager","text":"Cache path discovery protocol BIOMASS.cache option set existing folder existing user data folder rappdirs::user_data_dir() Linux : ~/.local/share/R/BIOMASS Mac OS X : ~/Library/Application Support/R/BIOMASS Windows 7 10 : C:\\\\Users\\\\<username>\\\\AppData\\\\Local\\\\R\\\\BIOMASS Windows XP : C:\\\\Documents Settings\\\\<username>\\\\Data\\\\R\\\\BIOMASS fallback R session tempdir","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/cachePath.html","id":null,"dir":"Reference","previous_headings":"","what":"Function used to build a file path based on a cache folder — cachePath","title":"Function used to build a file path based on a cache folder — cachePath","text":"Parameters similar file.path function","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/cachePath.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function used to build a file path based on a cache folder — cachePath","text":"","code":"cachePath(...)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/cachePath.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function used to build a file path based on a cache folder — cachePath","text":"... character vectors. Elements subpath cache path","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/cachePath.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function used to build a file path based on a cache folder — cachePath","text":"character vector normalized file path source attribute holding hint cache path source (\"option\", \"data\", \"temp\")","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/cachePath.html","id":"localisation","dir":"Reference","previous_headings":"","what":"Localisation","title":"Function used to build a file path based on a cache folder — cachePath","text":"Cache path discovery protocol BIOMASS.cache option set existing folder existing user data folder rappdirs::user_data_dir() Linux : ~/.local/share/R/BIOMASS Mac OS X : ~/Library/Application Support/R/BIOMASS Windows 7 10 : C:\\\\Users\\\\<username>\\\\AppData\\\\Local\\\\R\\\\BIOMASS Windows XP : C:\\\\Documents Settings\\\\<username>\\\\Data\\\\R\\\\BIOMASS fallback R session tempdir","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/calibrate_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Calibrate a bayesian model to fit log(AGBD) ~ log(raster metric) — calibrate_model","title":"Calibrate a bayesian model to fit log(AGBD) ~ log(raster metric) — calibrate_model","text":"applying subplot_summary() function, function fits log-log bayesian regression model spatially varying coefficient process, AGBD raster metric simulated values (see Details).","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/calibrate_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calibrate a bayesian model to fit log(AGBD) ~ log(raster metric) — calibrate_model","text":"","code":"calibrate_model(   long_AGB_simu,   nb_rep = 30,   useCache = FALSE,   plot_model = TRUE,   chains = 4,   thin = 20,   iter = 2300,   warmup = 300,   cores = 4,   ... )"},{"path":"https://umr-amap.github.io/BIOMASS/reference/calibrate_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calibrate a bayesian model to fit log(AGBD) ~ log(raster metric) — calibrate_model","text":"long_AGB_simu '$long_AGB_simu' output subplot_summary() function (see Details). nb_rep Number simulation provide brms fit (nb_rep > 50 improved significantly model much longer fit). useCache logical determines wether use cache building Bayesian model (see Details). plot_model logical indicating whether model plot. chains Number Markov chains (defaults 3), see brms::brm() thin Thinning rate, see brms::brm() iter Number total iterations per chain (including warmup; defaults 5000), see brms::brm() warmup Number warmup (aka burnin) iterations (defaults 1000), see brms::brm() cores Number cores use executing chains parallel, see brms::brm() ... arguments passed brm(), e.g: prior, cores, etc. See brms::brm()","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/calibrate_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calibrate a bayesian model to fit log(AGBD) ~ log(raster metric) — calibrate_model","text":"function return brmsfit object.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/calibrate_model.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calibrate a bayesian model to fit log(AGBD) ~ log(raster metric) — calibrate_model","text":"'long_AGB_simu' argument must data frame data frame extension containing following variables: 'N_simu': numeric indicating simulation number. 'x_center' 'y_center': coordinates plots/subplots projected coordinate system. 'AGBD': AGBD value simulation. 'raster_metric': raster metric value simulation. Speak model (fixed intercept), capturing spatial autocorrelation, cite Gelfand et al. 2003 (Spatial modeling spatially varying coefficient processes) useCache = TRUE first time model built, model saved .rds file defined cache path (see createCache()). useCache = TRUE model already built using user cache, model loaded updated avoid wasting time re-compiling . useCache = NULL, cache first cleared building model.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/calibrate_model.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Calibrate a bayesian model to fit log(AGBD) ~ log(raster metric) — calibrate_model","text":"Arthur Bailly","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/calibrate_model.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calibrate a bayesian model to fit log(AGBD) ~ log(raster metric) — calibrate_model","text":"","code":"if (FALSE) { # \\dontrun{  } # }"},{"path":"https://umr-amap.github.io/BIOMASS/reference/check_plot_coord.html","id":null,"dir":"Reference","previous_headings":"","what":"Check coordinates of plot corners and trees — check_plot_coord","title":"Check coordinates of plot corners and trees — check_plot_coord","text":"Quality check plot corner tree coordinates.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/check_plot_coord.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check coordinates of plot corners and trees — check_plot_coord","text":"","code":"check_plot_coord(   corner_data,   proj_coord = NULL,   longlat = NULL,   rel_coord,   trust_GPS_corners,   draw_plot = TRUE,   tree_data = NULL,   tree_coords = NULL,   max_dist = 10,   rm_outliers = TRUE,   plot_ID = NULL,   tree_plot_ID = NULL,   ref_raster = NULL,   shapefile = NULL,   prop_tree = NULL,   threshold_tree = NULL,   ask = TRUE )"},{"path":"https://umr-amap.github.io/BIOMASS/reference/check_plot_coord.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check coordinates of plot corners and trees — check_plot_coord","text":"corner_data data frame, data frame extension, containing plot corner coordinates. proj_coord (optional, longlat provided) character vector length 2, specifying column names (resp. x, y) corner projected coordinates. longlat (optional, proj_coord provided) character vector length 2 specifying column names corner geographic coordinates (long,lat). rel_coord character vector length 2 specifying column names (resp. x, y) corner relative coordinates (field, ie, local ones). trust_GPS_corners logical indicating whether trust GPS coordinates plot's corners. See details. draw_plot logical indicating plot design displayed returned. tree_data data frame, data frame extension, containing relative coordinates (field/local coordinates) trees optional tree metrics. tree_coords character vector specifying column names tree relative coordinates. max_dist dealing repeated measurements corner : maximum distance (meters) GPS measurements considered outliers (default 15 m). rm_outliers TRUE dealing repeated measurements corner, outliers removed coordinate calculation referenced corners. plot_ID dealing multiple plots : character indicating variable name corner plot IDs corner_data. tree_plot_ID dealing multiple plots : character indicating variable name tree plot IDs tree_data. ref_raster filename (character) raster displayed (typically CHM raster created LiDAR data), SpatRaster object terra package. shapefile filename (character) shapefile displayed, object class 'sf' (sf package). prop_tree column name variable tree_data tree visualization proportional. threshold_tree numeric length 1: threshold 'prop_tree' variable trees displayed plot. ask TRUE dealing multiple plots, prompt user displaying plot.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/check_plot_coord.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check coordinates of plot corners and trees — check_plot_coord","text":"Returns list including : corner_coord: data frame containing projected coordinates (x_proj y_proj) relative coordinates (x_rel y_rel) 4 corners plot polygon: sf object containing plot's polygon(s) tree_data: tree_data provided arguments function, data frame corresponding tree_data projected coordinates trees (x_proj y_proj) added, also variable telling trees inside plot (is_in_plot). name relative tree coordinates also standardised renamed (x_rel y_rel). outliers: data frame containing projected coordinates row number GPS measurements considered outliers plot_design: draw_plot TRUE, ggplot object corresponding design plot UTM_code: longlat provided, data.frame containing UTM code corner GPS coordinates plot sd_coord: data frame containing (plot) average standard deviation GPS measurements corner X Y axes.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/check_plot_coord.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check coordinates of plot corners and trees — check_plot_coord","text":"trust_GPS_corners TRUE, corner coordinates projected coordinate system averaging corner (multiple measures) outlier corners identified sequentially using averages max_dist argument. , projected coordinates trees calculated local coordinates using bilinear interpolation follows correspondence corners two coordinate systems. aware projection works plot, relative coordinates system, rectangular (ie, 4 right angles). trust_GPS_corners FALSE, corner coordinates projected coordinate system calculated procrust analysis preserves shape dimensions plot local coordinate system. Outlier corners also identified sequentially projected coordinates trees calculated applying resulting procrust analysis. longlat provided instead proj_coord, function first convert long/lat coordinates UTM coordinates. error may result parcel located right two UTM zones. case, user convert long/lat coordinates projected coordinates dimension local coordinates (meters time). longlat proj_coord provided, longitude/latitude coordinates considered. ref_raster provided, raster cropped every plot contained corner_data.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/check_plot_coord.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Check coordinates of plot corners and trees — check_plot_coord","text":"Arthur PERE, Maxime REJOU-MECHAIN, Arthur BAILLY Arthur BAILLY, Arthur PERE, Maxime REJOU-MECHAIN","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/check_plot_coord.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check coordinates of plot corners and trees — check_plot_coord","text":"","code":"# One plot with repeated measurements of each corner data(\"NouraguesPlot201\") check_plot201 <- check_plot_coord(   corner_data = NouraguesPlot201,   proj_coord = c(\"Xutm\",\"Yutm\"), rel_coord = c(\"Xfield\",\"Yfield\"),   trust_GPS_corners = TRUE, draw_plot = FALSE) check_plot201$corner_coord #>   x_rel y_rel   x_proj   y_proj #> 1     0     0 313005.7 451723.2 #> 2   100     0 312956.9 451630.2 #> 3   100   100 313050.2 451582.6 #> 4     0   100 313100.5 451665.9 # \\donttest{   check_plot201$plot_design  # }  # 4 plots with one measurement of each corner data(\"NouraguesCoords\") check_plots <- check_plot_coord(   corner_data = NouraguesCoords,   proj_coord = c(\"Xutm\",\"Yutm\"), rel_coord = c(\"Xfield\",\"Yfield\"),   trust_GPS_corners = TRUE, plot_ID = \"Plot\", draw_plot = FALSE) check_plots$corner_coord #>    plot_ID x_rel y_rel   x_proj   y_proj #> 1      201     0     0 313007.9 451717.2 #> 2      201   100     0 312960.2 451629.3 #> 3      201   100   100 313048.0 451581.6 #> 4      201     0   100 313095.8 451669.5 #> 5      204     0   300 313271.5 451574.0 #> 6      204   100   300 313223.8 451486.2 #> 7      204   100   400 313311.7 451438.4 #> 8      204     0   400 313359.4 451526.3 #> 9      213   100   200 313135.9 451533.9 #> 10     213   200   200 313088.2 451446.0 #> 11     213   200   300 313176.1 451398.3 #> 12     213   100   300 313223.8 451486.2 #> 13     223   200   200 313088.2 451446.0 #> 14     223   300   200 313040.5 451358.1 #> 15     223   300   300 313128.4 451310.4 #> 16     223   200   300 313176.1 451398.3 # \\donttest{   check_plots$plot_design #> $`201`  #>  #> $`204`  #>  #> $`213`  #>  #> $`223`  #>  # }  # Displaying the associated CHM raster and representing trees proportionally to their diameter plot_204_coords <- NouraguesCoords[NouraguesCoords$Plot==204,] data(\"NouraguesTrees\") plot_204_trees <- NouraguesTrees[NouraguesTrees$Plot == 204, ] nouragues_raster <- terra::rast(   system.file(\"extdata\", \"NouraguesRaster.tif\",               package = \"BIOMASS\", mustWork = TRUE)   ) check_plot_204 <- check_plot_coord(  corner_data = plot_204_coords,  proj_coord = c(\"Xutm\",\"Yutm\"), rel_coord = c(\"Xfield\",\"Yfield\"),  trust_GPS_corners = TRUE, draw_plot = FALSE,  tree_data = plot_204_trees, tree_coords = c(\"Xfield\",\"Yfield\"),  ref_raster = nouragues_raster, prop_tree = \"D\", threshold_tree = 25 ) # \\donttest{   check_plot_204$plot_design  # }"},{"path":"https://umr-amap.github.io/BIOMASS/reference/clearCache.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to clear cache content and possibly remove it — clearCache","title":"Function to clear cache content and possibly remove it — clearCache","text":"refuse clear remove custom cache folder set using BIOMASS.cache option know whether folder contains possibly valuable files apart cached files.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/clearCache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to clear cache content and possibly remove it — clearCache","text":"","code":"clearCache(remove = FALSE)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/clearCache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to clear cache content and possibly remove it — clearCache","text":"remove logical. TRUE cache folder removed (content) resulting deactivating cache side effect","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/clearCache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to clear cache content and possibly remove it — clearCache","text":"return value, called side effects","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeAGB.html","id":null,"dir":"Reference","previous_headings":"","what":"Computing tree above ground biomass (AGB) — computeAGB","title":"Computing tree above ground biomass (AGB) — computeAGB","text":"function uses Chave et al. 2014's pantropical models estimate ground biomass tropical trees.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeAGB.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Computing tree above ground biomass (AGB) — computeAGB","text":"","code":"computeAGB(D, WD, H = NULL, coord = NULL, Dlim = NULL)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeAGB.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Computing tree above ground biomass (AGB) — computeAGB","text":"D Tree diameter (cm), either vector single value. WD Wood density (g/cm3), either vector single value. available, see getWoodDensity(). H (optional) Tree height (H m), either vector single value. available, see retrieveH() modelHD(). Compulsory coordinates coord given. coord (optional) Coordinates site(s), either vector giving single site (e.g. c(longitude, latitude)) matrix/dataframe two columns (e.g. cbind(longitude, latitude)). coordinates used account variation height-diameter relationship thanks environmental proxy (parameter E Chave et al. 2014). Compulsory tree heights H given. Dlim (optional) Minimum diameter (cm) aboveground biomass calculated (diameter Dlim 0 value output).","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeAGB.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Computing tree above ground biomass (AGB) — computeAGB","text":"function returns AGB Mg (ton) single value vector.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeAGB.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Computing tree above ground biomass (AGB) — computeAGB","text":"function uses two different ways computing ground biomass tree: tree height data available, AGB computed thanks following equation (Eq. 4 Chave et al., 2014): $$AGB = 0.0673 * (WD * H * D^2)^0.976$$ tree height data available, AGB computed thanks site coordinates following equation, slightly modified Eq. 7 Chave et al., 2014 (see Réjou-Méchain et al. 2017): $$AGB = exp(-2.024- 0.896*E + 0.920*log(WD) + 2.795*log(D) - 0.0461*(log(D)^2))$$ E measure environmental stress estimated site coordinates (coord).","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeAGB.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Computing tree above ground biomass (AGB) — computeAGB","text":"Chave et al. (2014) Improved allometric models estimate aboveground biomass tropical trees, Global Change Biology, 20 (10), 3177-3190","code":""},{"path":[]},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeAGB.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Computing tree above ground biomass (AGB) — computeAGB","text":"Maxime REJOU-MECHAIN, Ariane TANGUY, Arthur PERE","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeAGB.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Computing tree above ground biomass (AGB) — computeAGB","text":"","code":"# Create variables D <- 10:99 WD <- runif(length(D), min = 0.1, max = 1) H <- D^(2 / 3)  # If you have height data AGB <- computeAGB(D, WD, H)  # If you do not have height data and a single site lat <- 4.08 long <- -52.68 coord <- c(long, lat) # \\donttest{ AGB <- computeAGB(D, WD, coord = coord) # }  # If you do not have height data and several sites (here three) lat <- c(rep(4.08, 30), rep(3.98, 30), rep(4.12, 30)) long <- c(rep(-52.68, 30), rep(-53.12, 30), rep(-53.29, 30)) coord <- cbind(long, lat) # \\donttest{ AGB <- computeAGB(D, WD, coord = coord) # } closeAllConnections()"},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeE.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieving Chave's environmental index — computeE","title":"Retrieving Chave's environmental index — computeE","text":"Extract Chave et al. 2014's environmental index thanks coordinates data. function time-consuming first use downloads raster folder (see Details). However, soon raster downloaded , function runs fast.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeE.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieving Chave's environmental index — computeE","text":"","code":"computeE(coord)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeE.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieving Chave's environmental index — computeE","text":"coord Coordinates site(s), matrix/dataframe two columns (e.g. cbind(longitude, latitude)) (see examples).","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeE.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieving Chave's environmental index — computeE","text":"function returns E, environmental index computed thanks Chave et al 2014's formula single value vector.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeE.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Retrieving Chave's environmental index — computeE","text":"Chave's environmental index, E, shown important covariable diameter-height relationship tropical trees. calculated : $$E = 1.e-3 * (0.178 * TS - 0.938 * CWD - 6.61 * PS)$$ TS temperature seasonality defined Worldclim dataset (bioclimatic variable 4), CWD climatic water deficit (mm/yr, see Chave et al. 2014) PS precipitation seasonality defined Worldclim dataset (bioclimatic variable 15). E index extracted raster file (2.5 arc-second resolution, ca. 5 km) available http://chave.ups-tlse.fr/pantropical_allometry.htm","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeE.html","id":"localisation","dir":"Reference","previous_headings":"","what":"Localisation","title":"Retrieving Chave's environmental index — computeE","text":"Cache path discovery protocol BIOMASS.cache option set existing folder existing user data folder rappdirs::user_data_dir() Linux : ~/.local/share/R/BIOMASS Mac OS X : ~/Library/Application Support/R/BIOMASS Windows 7 10 : C:\\\\Users\\\\<username>\\\\AppData\\\\Local\\\\R\\\\BIOMASS Windows XP : C:\\\\Documents Settings\\\\<username>\\\\Data\\\\R\\\\BIOMASS fallback R session tempdir","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeE.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Retrieving Chave's environmental index — computeE","text":"Chave et al. (2014) Improved allometric models estimate aboveground biomass tropical trees, Global Change Biology, 20 (10), 3177-3190","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeE.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Retrieving Chave's environmental index — computeE","text":"Jerome CHAVE, Maxime REJOU-MECHAIN, Ariane TANGUY, Arthur PERE","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeE.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieving Chave's environmental index — computeE","text":"","code":"# One study site lat <- 4.08 long <- -52.68 coord <- cbind(long, lat) # \\donttest{ E <- computeE(coord) # }  # Several study sites (here three sites) long <- c(-52.68, -51.12, -53.11) lat <- c(4.08, 3.98, 4.12) coord <- cbind(long, lat) # \\donttest{ E <- computeE(coord) # } closeAllConnections()"},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeFeldRegion.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieving Feldpausch regions — computeFeldRegion","title":"Retrieving Feldpausch regions — computeFeldRegion","text":"Extract Feldpausch et al. (2012)'s regions using local coordinates.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeFeldRegion.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieving Feldpausch regions — computeFeldRegion","text":"","code":"computeFeldRegion(coord, level = c(\"region\"))"},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeFeldRegion.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieving Feldpausch regions — computeFeldRegion","text":"coord Coordinates site(s), matrix/dataframe two columns (e.g. cbind(longitude, latitude)) (see examples). level string vector string, length must match number rows parameter coord. parameter gives scale Feldpausch regions assigned. tree levels: region: Models assign sub-continent levels, value default continent: Models assign Africa, South America, Asia Australia levels world: Pantropical model","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeFeldRegion.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieving Feldpausch regions — computeFeldRegion","text":"function returns vector Feldpausch et al. (2012)'s regions can incorporated retrieveH function.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeFeldRegion.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Retrieving Feldpausch regions — computeFeldRegion","text":"Feldpausch, T.R., et al. (2012). Tree height integrated pantropical forest biomass estimates. Biogeosciences, 9, 3381–3403.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeFeldRegion.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Retrieving Feldpausch regions — computeFeldRegion","text":"Arthur PERE","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/computeFeldRegion.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieving Feldpausch regions — computeFeldRegion","text":"","code":"#' # One study site lat <- 4.08 long <- -52.68 coord <- cbind(long, lat) # \\donttest{ FeldRegion <- computeFeldRegion(coord) # }  # Several study sites (here three sites) long <- c(-52.68, -51.12, -53.11) lat <- c(4.08, 3.98, 4.12) coord <- cbind(long, lat) # \\donttest{ FeldRegion <- computeFeldRegion(coord) #> Warning: There is NA in your final vector, those NA will be replaced by 'Pantropical' # }"},{"path":"https://umr-amap.github.io/BIOMASS/reference/correctCoordGPS.html","id":null,"dir":"Reference","previous_headings":"","what":"Correct the GPS coordinates — correctCoordGPS","title":"Correct the GPS coordinates — correctCoordGPS","text":"correctCoordGPS() deprecated replaced check_plot_coord(). Please see vignette Spatialized trees forest stand metrics BIOMASS function builds probable GPS coordinates plot corners multiple GPS measurements.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/correctCoordGPS.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Correct the GPS coordinates — correctCoordGPS","text":"","code":"correctCoordGPS(   longlat = NULL,   projCoord = NULL,   coordRel,   rangeX,   rangeY,   maxDist = 15,   drawPlot = FALSE,   rmOutliers = TRUE )"},{"path":"https://umr-amap.github.io/BIOMASS/reference/correctCoordGPS.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Correct the GPS coordinates — correctCoordGPS","text":"longlat (optional) data frame coordinate longitude latitude (eg. cbind(longitude, latitude)). projCoord (optional) data frame projected coordinate X Y coordRel data frame relative coordinate order longlat projCoord rangeX vector length 2 giving range plot relative X coordinates rangeY vector length 2 giving range plot relative Y coordinates maxDist numeric giving maximum distance GPS measurements considered outliers (default 15 m) drawPlot logical want display graphical representation rmOutliers logical want remove outliers coordinates calculation","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/correctCoordGPS.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Correct the GPS coordinates — correctCoordGPS","text":"outliers rmOutliers = TRUE, list : cornerCoords: data.frame coordinates corners correctedCoord: data.frame adjusted coordinates given input polygon: spatial polygon outliers: index coordinates lines considered outliers, codeUTM: UTM code coordinates parameter longlat set","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/correctCoordGPS.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Correct the GPS coordinates — correctCoordGPS","text":"GPS coordinates either given longitude latitude (longlat) projected coordinates (projCoord)","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/correctCoordGPS.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Correct the GPS coordinates — correctCoordGPS","text":"Arthur PERE, Maxime REJOU-MECHAIN","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/correctCoordGPS.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Correct the GPS coordinates — correctCoordGPS","text":"","code":"projCoord <- data.frame(   X = c(     runif(5, min = 9, max = 11), runif(5, min = 8, max = 12),     runif(5, min = 80, max = 120), runif(5, min = 90, max = 110)   ),   Y = c(     runif(5, min = 9, max = 11), runif(5, min = 80, max = 120),     runif(5, min = 8, max = 12), runif(5, min = 90, max = 110)   ) ) projCoord <- projCoord + 1000 coordRel <- data.frame(   X = c(rep(0, 10), rep(100, 10)),   Y = c(rep(c(rep(0, 5), rep(100, 5)), 2)) )  aa <- correctCoordGPS(   projCoord = projCoord, coordRel = coordRel,   rangeX = c(0, 100), rangeY = c(0, 100) ) #> Warning: This function still work but will be removed (defunct) and replaced by checkCoordPlot in the next version. Please see VIGNETTENAME? vignette #> Warning: 'correctCoordGPS()' has been replaced by `check_plot_coord()` function and will be removed in the next version. #> Please see the vignette `Spatialized trees and forest stand metrics with BIOMASS` #> Warning: longer object length is not a multiple of shorter object length bb <- correctCoordGPS(   projCoord = projCoord, coordRel = coordRel,   rangeX = c(0, 100), rangeY = c(0, 100), rmOutliers = TRUE ) #> Warning: This function still work but will be removed (defunct) and replaced by checkCoordPlot in the next version. Please see VIGNETTENAME? vignette #> Warning: 'correctCoordGPS()' has been replaced by `check_plot_coord()` function and will be removed in the next version. #> Please see the vignette `Spatialized trees and forest stand metrics with BIOMASS` #> Warning: longer object length is not a multiple of shorter object length #> Warning: calling par(new=TRUE) with no plot # \\donttest{ correctCoordGPS(   projCoord = projCoord, coordRel = coordRel,   rangeX = c(0, 100), rangeY = c(0, 100), drawPlot = TRUE ) #> Warning: This function still work but will be removed (defunct) and replaced by checkCoordPlot in the next version. Please see VIGNETTENAME? vignette #> Warning: 'correctCoordGPS()' has been replaced by `check_plot_coord()` function and will be removed in the next version. #> Please see the vignette `Spatialized trees and forest stand metrics with BIOMASS` #> Warning: longer object length is not a multiple of shorter object length #> $cornerCoords #>          X        Y #> 1 1006.421 1008.592 #> 2 1106.398 1006.458 #> 3 1108.531 1106.435 #> 4 1008.554 1108.569 #>  #> $correctedCoord #>           X        Y #> 1  1006.421 1008.592 #> 2  1006.421 1008.592 #> 3  1006.421 1008.592 #> 4  1006.421 1008.592 #> 5  1006.421 1008.592 #> 6  1008.554 1108.569 #> 7  1008.554 1108.569 #> 8  1008.554 1108.569 #> 9  1008.554 1108.569 #> 10 1008.554 1108.569 #> 11 1106.398 1006.458 #> 12 1106.398 1006.458 #> 13 1106.398 1006.458 #> 14 1106.398 1006.458 #> 15 1106.398 1006.458 #> 16 1108.531 1106.435 #> 17 1108.531 1106.435 #> 18 1108.531 1106.435 #> 19 1108.531 1106.435 #> 20 1108.531 1106.435 #>  #> $polygon #> Geometry set for 1 feature  #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 1006.421 ymin: 1006.458 xmax: 1108.531 ymax: 1108.569 #> CRS:           NA #> POLYGON ((1006.421 1008.592, 1106.398 1006.458,... #>  #> $outliers #> [1] 10 12 15 19 #>  # }"},{"path":"https://umr-amap.github.io/BIOMASS/reference/correctTaxo.html","id":null,"dir":"Reference","previous_headings":"","what":"Correct and match taxonomic names to the World Flora Online database — correctTaxo","title":"Correct and match taxonomic names to the World Flora Online database — correctTaxo","text":"Match taxonomic names using World Flora Online database, via GraphQL API","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/correctTaxo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Correct and match taxonomic names to the World Flora Online database — correctTaxo","text":"","code":"correctTaxo(   genus,   species = NULL,   interactive = TRUE,   preferAccepted = FALSE,   preferFuzzy = FALSE,   sub_pattern = subPattern(),   useCache = FALSE,   useAPI = TRUE,   capacity = 60,   fill_time_s = 60,   timeout = 10 )"},{"path":"https://umr-amap.github.io/BIOMASS/reference/correctTaxo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Correct and match taxonomic names to the World Flora Online database — correctTaxo","text":"genus vector genera. Alternatively, whole taxonomic name (genus + species) species optional, vector species epithets checked (length genus) interactive logical, TRUE (default) user prompted pick names list multiple ambiguous matches found, otherwise names multiple ambiguous matches skipped preferAccepted logical, TRUE, multiple ambiguous matches found, one candidate \"accepted\" name, automatically choose name preferFuzzy logical, TRUE, multiple ambiguous matches found, accepted matched name lowest Levenshtein distance submitted name returned sub_pattern character vector regex patterns removed paste(genus, species) using gsub(). order vector matters, substitutions applied sequentially. Sensible defaults provided subPattern() useCache logical, TRUE use cached values $wfo_cache preferentially, reduce number API calls useAPI logical, TRUE (default) allow API calls capacity maximum number API calls can accumulate duration fill_time_s. See documentation httr2::req_throttle() fill_time_s time seconds refill capacity repeated API calls. See documentation httr2::req_throttle() timeout time seconds wait disconnecting unresponsive request","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/correctTaxo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Correct and match taxonomic names to the World Flora Online database — correctTaxo","text":"data.frame taxonomic names rows matching genus + species. nameOriginal Original name genus + species nameSubmitted Name optional sanitisation according sub_pattern nameMatched Matched taxonomic name nameAccepted Accepted taxonomic name familyAccepted Family accepted name genusAccepted Genus accepted name speciesAccepted Species epithet accepted name nameModified Flag indicating matchedName different nameOriginal, including removal excess whitespace","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/correctTaxo.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Correct and match taxonomic names to the World Flora Online database — correctTaxo","text":"Borsch, T. et al. (2020). World Flora Online: Placing taxonomists heart definitive comprehensive global resource world's plants. TAXON, 69, 6. doi10.1002/tax.12373:","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/correctTaxo.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Correct and match taxonomic names to the World Flora Online database — correctTaxo","text":"John L. Godlee","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/correctTaxo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Correct and match taxonomic names to the World Flora Online database — correctTaxo","text":"","code":"if (FALSE) { # \\dontrun{ correctTaxo(genus = \"Astrocarium\", species = \"standleanum\") correctTaxo(genus = \"Astrocarium\", species = \"standleanum\", interactive = F, preferFuzzy = T) correctTaxo(genus = \"Astrocarium standleanum\", interactive = F, preferFuzzy = T) } # }"},{"path":"https://umr-amap.github.io/BIOMASS/reference/createCache.html","id":null,"dir":"Reference","previous_headings":"","what":"Function used to create or activate a permanent cache. — createCache","title":"Function used to create or activate a permanent cache. — createCache","text":"Permanent cache located default user data dir.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/createCache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function used to create or activate a permanent cache. — createCache","text":"","code":"createCache(path = NULL)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/createCache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function used to create or activate a permanent cache. — createCache","text":"path Use custom path host cache","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/createCache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function used to create or activate a permanent cache. — createCache","text":"return value, called side effects","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/createCache.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Function used to create or activate a permanent cache. — createCache","text":"can provide custom path (defined BIOMASS.cache option) clearCache function refuse operate security reasons.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/cutPlot.html","id":null,"dir":"Reference","previous_headings":"","what":"Divides one or more plots into subplots — cutPlot","title":"Divides one or more plots into subplots — cutPlot","text":"cutPlot() deprecated replaced divide_plot(). Please see vignette Spatialized trees forest stand metrics BIOMASS function divides plot (several plots) subplots returns coordinates grid. coordinates calculated bilinear interpolation projected corner coordinates references.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/cutPlot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Divides one or more plots into subplots — cutPlot","text":"","code":"cutPlot(projCoord, plot, cornerNum, gridsize = 100, dimX = 200, dimY = 200)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/cutPlot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Divides one or more plots into subplots — cutPlot","text":"projCoord data frame containing projected coordinates plot corners, X Y first second column respectively plot vector indicating plot codes cornerNum vector corners numbered 1 4 plot, numbering must clockwise direction gridsize size subplots dimX vector indicating size plot X axis, meters relative coordinates system (single value supplied, replicated plots) dimY vector indicating size plot Y axis, meters relative coordinates system (single value supplied, replicated plots)","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/cutPlot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Divides one or more plots into subplots — cutPlot","text":"Returns data-frame containing many rows corners corresponding subplots, following columns : plot: plot code subplot: automatically generated subplot code XRel:  relative coordinates X axis (defined corners 1->4) YRel:  relative coordinates Y axis (defined corners 1->2) XAbs:  absolute (projected) X coordinates YAbs:  absolute (projected) Y coordinates","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/cutPlot.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Divides one or more plots into subplots — cutPlot","text":"Arthur PERE","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/cutPlot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Divides one or more plots into subplots — cutPlot","text":"","code":"coord <- data.frame(X = c(0, 200, 0, 200), Y = c(0, 0, 200, 200)) + 5000 cornerNum <- c(1, 2, 4, 3) plot <- rep(\"plot1\", 4)  cut <- cutPlot(coord, plot, cornerNum, gridsize = 100, dimX = 200, dimY = 200) #> Warning: 'cutPlot()' has been replaced by `divide_plot()` and will be removed in the next version. #> Please see the vignette `Spatialized trees and forest stand metrics with BIOMASS`  # plot the result plot(coord, main = \"example\", xlim = c(4900, 5300), ylim = c(4900, 5300), asp = 1) text(coord, labels = cornerNum, pos = 1) points(cut$XAbs, cut$YAbs, pch = \"+\") legend(\"bottomright\", legend = c(\"orignal\", \"cut\"), pch = c(\"o\", \"+\"))"},{"path":"https://umr-amap.github.io/BIOMASS/reference/divide_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Divides one ore more plots into subplots — divide_plot","title":"Divides one ore more plots into subplots — divide_plot","text":"function divides plot (several plots) subplots relative coordinates system, returns coordinates subplot corners.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/divide_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Divides one ore more plots into subplots — divide_plot","text":"","code":"divide_plot(   corner_data,   rel_coord,   proj_coord = NULL,   longlat = NULL,   grid_size,   grid_tol = 0.1,   origin = NULL,   tree_data = NULL,   tree_coords = NULL,   corner_plot_ID = NULL,   tree_plot_ID = NULL,   sd_coord = NULL,   n = 100 )"},{"path":"https://umr-amap.github.io/BIOMASS/reference/divide_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Divides one ore more plots into subplots — divide_plot","text":"corner_data data frame, data frame extension, containing plot corner coordinates. Typically, output $corner_coord check_plot_coord() function. rel_coord character vector length 2,  specifying column names (resp. x, y) corner relative coordinates. proj_coord (optional, longlat provided) character vector length 2, specifying column names (resp. x, y) corner projected coordinates. longlat (optional, proj_coord provided) character vector length 2, specifying column names corner geographic coordinates (long,lat). grid_size vector indicating dimensions grid cells (resp. X Y dimensions). one value given, grid cells considered squares. grid_tol numeric (0;1) corresponding percentage plot area allowed excluded plot division (grid_size match exactly plot dimensions). origin Alignment subplot grid, based relative coordinates. NULL (default), grid aligned origin corner relative coordinates. Alternatively provide numeric vector length 2, specifying relative coordinates grid aligned. option especially useful grid_size match exactly plot dimensions. tree_data data frame containing tree relative coordinates optional tree metrics (one row per tree). tree_coords character vector length 2, specifying column names relative coordinates trees. corner_plot_ID dealing several plots: vector indicating plot IDs corners. tree_plot_ID dealing several plots: vector indicating tree plot IDs. sd_coord used propagate GPS measurements uncertainties subplot polygon areas ref_raster footprint subplot_summary(). See Details. n used propagate GPS measurements uncertainties: number iterations used (AGBmonteCarlo()). smaller 50 larger 1000.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/divide_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Divides one ore more plots into subplots — divide_plot","text":"Returns list containing: $sub_corner_coord: data-frame containing many rows corners corresponding subplots, following columns : plot_ID: dealing multiple plots: plot code, else, column containing empty character subplot_ID: automatically generated subplot code, using following rule : subplot_X_Y x_rel y_rel : relative X-axis Y-axis coordinates subplots corners. x_proj y_proj : proj_coord provided, projected X-axis Y-axis coordinates subplots corners $tree_data: tree_data argument subplot_ID tree last column $UTM_code: 'longlat' provided, data.frame containing UTM code corner GPS coordinates plot $simu_coord: sd_coord provided, list n data-tables containing simulated coordinates","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/divide_plot.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Divides one ore more plots into subplots — divide_plot","text":"corner coordinates projected coordinate system provided (proj_coord), projected coordinates subplot corners calculated bilinear interpolation relation relative coordinates plot corners. aware bilinear interpolation works plot relative coordinates system rectangular (ie, 4 right angles). order propagate GPS measurement uncertainties, sd_coord argument provided must contains average standard deviation GPS measurements corner X Y axes (typically, output $sd_coord check_plot_coord() function). corner_data contains one plot, sd_coord must numeric. dealing several plot, sd_coord must data frame two columns named 'plot_ID' 'sd_coord' containing respectively plot IDs previous metric (, see output $sd_coord check_plot_coord() function).","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/divide_plot.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Divides one ore more plots into subplots — divide_plot","text":"Arthur PERE, Arthur BAILLY, John L. GODLEE","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/divide_plot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Divides one ore more plots into subplots — divide_plot","text":"","code":"# One plot with repeated measurements of each corner data(\"NouraguesPlot201\") check_plot201 <- check_plot_coord(   corner_data = NouraguesPlot201,   proj_coord = c(\"Xutm\",\"Yutm\"), rel_coord = c(\"Xfield\",\"Yfield\"),   trust_GPS_corners = TRUE, draw_plot = FALSE) subplots_201 <- divide_plot(   corner_data = check_plot201$corner_coord,    rel_coord = c(\"x_rel\",\"y_rel\"), proj_coord = c(\"x_proj\",\"y_proj\"),   grid_size = 50) subplots_201 #> $sub_corner_coord #>    plot_ID  subplot_ID x_rel y_rel   x_proj   y_proj #> 1          subplot_0_0     0     0 313005.7 451723.2 #> 2          subplot_0_0    50     0 312981.3 451676.7 #> 3          subplot_0_0    50    50 313028.4 451650.5 #> 4          subplot_0_0     0    50 313053.1 451694.5 #> 5          subplot_1_0    50     0 312981.3 451676.7 #> 6          subplot_1_0   100     0 312956.9 451630.2 #> 7          subplot_1_0   100    50 313003.6 451606.4 #> 8          subplot_1_0    50    50 313028.4 451650.5 #> 9          subplot_0_1     0    50 313053.1 451694.5 #> 10         subplot_0_1    50    50 313028.4 451650.5 #> 11         subplot_0_1    50   100 313075.4 451624.2 #> 12         subplot_0_1     0   100 313100.5 451665.9 #> 13         subplot_1_1    50    50 313028.4 451650.5 #> 14         subplot_1_1   100    50 313003.6 451606.4 #> 15         subplot_1_1   100   100 313050.2 451582.6 #> 16         subplot_1_1    50   100 313075.4 451624.2 #>   # Assigning trees to subplots data(\"NouraguesTrees\") plot201_trees <- NouraguesTrees[NouraguesTrees$Plot == 201,] subplots_201 <- suppressWarnings(   divide_plot(     corner_data = check_plot201$corner_coord,      rel_coord = c(\"x_rel\",\"y_rel\"), proj_coord = c(\"x_proj\",\"y_proj\"),     grid_size = 50,     tree_data = plot201_trees, tree_coords = c(\"Xfield\",\"Yfield\"))) head(subplots_201$sub_corner_coord) #>   plot_ID  subplot_ID x_rel y_rel   x_proj   y_proj #> 1         subplot_0_0     0     0 313005.7 451723.2 #> 2         subplot_0_0    50     0 312981.3 451676.7 #> 3         subplot_0_0    50    50 313028.4 451650.5 #> 4         subplot_0_0     0    50 313053.1 451694.5 #> 5         subplot_1_0    50     0 312981.3 451676.7 #> 6         subplot_1_0   100     0 312956.9 451630.2 head(subplots_201$tree_data) #>            Site Plot x_rel y_rel        Family               Genus     Species #> 1 Petit_Plateau  201   0.0  31.5   Burseraceae             Protium surinamense #> 2 Petit_Plateau  201   0.1  75.2 Anacardiaceae            Tapirira  guianensis #> 3 Petit_Plateau  201   0.2  27.6 Lecythidaceae Indet.Lecythidaceae      Indet. #> 4 Petit_Plateau  201  -4.0  67.5 Euphorbiaceae          Conceveiba  guyanensis #> 5 Petit_Plateau  201   0.3  39.9   Burseraceae             Protium  altissimum #> 6 Petit_Plateau  201  -3.5  41.5 Euphorbiaceae               Mabea    speciosa #>      D plot_ID  subplot_ID #> 1 11.0         subplot_0_0 #> 2 74.4         subplot_0_1 #> 3 25.4         subplot_0_0 #> 4 10.0                <NA> #> 5 18.9         subplot_0_0 #> 6 10.0                <NA>  # When grid dimensions (40m x 40m) don't fit perfectly plot dimensions # an origin at (10 ; 10) will center the grid # \\donttest{   divide_plot(     corner_data = check_plot201$corner_coord,      rel_coord = c(\"x_rel\",\"y_rel\"),     grid_size = c(40,40),     grid_tol = 0.4,     origin = c(10,10)  ) #> Warning:  #> The x-dimension of the plot is not a multiple of the x-dimension of the grid size and origin offset #> Warning:  #> The y-dimension of the plot is not a multiple of the y-dimension of the grid size and origin offset #> $sub_corner_coord #>    plot_ID  subplot_ID x_rel y_rel #> 1          subplot_0_0    10    10 #> 2          subplot_0_0    50    10 #> 3          subplot_0_0    50    50 #> 4          subplot_0_0    10    50 #> 5          subplot_1_0    50    10 #> 6          subplot_1_0    90    10 #> 7          subplot_1_0    90    50 #> 8          subplot_1_0    50    50 #> 9          subplot_0_1    10    50 #> 10         subplot_0_1    50    50 #> 11         subplot_0_1    50    90 #> 12         subplot_0_1    10    90 #> 13         subplot_1_1    50    50 #> 14         subplot_1_1    90    50 #> 15         subplot_1_1    90    90 #> 16         subplot_1_1    50    90 #>  # }  # Dealing with multiple plots data(\"NouraguesCoords\") nouragues_subplots <- suppressWarnings(   divide_plot(     corner_data = NouraguesCoords,     rel_coord = c(\"Xfield\",\"Yfield\"), proj_coord = c(\"Xutm\",\"Yutm\"),     corner_plot_ID = \"Plot\",     grid_size = 50,     tree_data = NouraguesTrees, tree_coords =  c(\"Xfield\",\"Yfield\"),     tree_plot_ID = \"Plot\")) head(nouragues_subplots$sub_corner_coord) #>   plot_ID subplot_ID x_rel y_rel   x_proj   y_proj #> 1     201    201_0_0     0     0 313007.9 451717.2 #> 2     201    201_0_0    50     0 312984.0 451673.2 #> 3     201    201_0_0    50    50 313028.0 451649.4 #> 4     201    201_0_0     0    50 313051.8 451693.3 #> 5     201    201_1_0    50     0 312984.0 451673.2 #> 6     201    201_1_0   100     0 312960.2 451629.3 head(nouragues_subplots$tree_data) #>            Site plot_ID x_rel y_rel        Family               Genus #> 1 Petit_Plateau     201   0.0  31.5   Burseraceae             Protium #> 2 Petit_Plateau     201   0.1  75.2 Anacardiaceae            Tapirira #> 3 Petit_Plateau     201   0.2  27.6 Lecythidaceae Indet.Lecythidaceae #> 4 Petit_Plateau     201  -4.0  67.5 Euphorbiaceae          Conceveiba #> 5 Petit_Plateau     201   0.3  39.9   Burseraceae             Protium #> 6 Petit_Plateau     201  -3.5  41.5 Euphorbiaceae               Mabea #>       Species    D subplot_ID #> 1 surinamense 11.0    201_0_0 #> 2  guianensis 74.4    201_0_1 #> 3      Indet. 25.4    201_0_0 #> 4  guyanensis 10.0       <NA> #> 5  altissimum 18.9    201_0_0 #> 6    speciosa 10.0       <NA>"},{"path":"https://umr-amap.github.io/BIOMASS/reference/feldCoef.html","id":null,"dir":"Reference","previous_headings":"","what":"Feldpausch et al. 2012 coefficients for generalized height-diameter models — feldCoef","title":"Feldpausch et al. 2012 coefficients for generalized height-diameter models — feldCoef","text":"Weibull coefficients height-diameter model form \\(H = (1-exp(-b*D^c))\\) given Feldpausch et al. 2012. table 3, associated RSE.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/feldCoef.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Feldpausch et al. 2012 coefficients for generalized height-diameter models — feldCoef","text":"","code":"data(\"feldCoef\")"},{"path":"https://umr-amap.github.io/BIOMASS/reference/feldCoef.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Feldpausch et al. 2012 coefficients for generalized height-diameter models — feldCoef","text":"data frame 12 observations following 4 variables: : Coefficient b: Coefficient b c: Coefficient c RSE: Vector RSE","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/feldCoef.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Feldpausch et al. 2012 coefficients for generalized height-diameter models — feldCoef","text":"dataset used function retrieveH() predict height diameter depending region.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/feldCoef.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Feldpausch et al. 2012 coefficients for generalized height-diameter models — feldCoef","text":"Feldpausch, T.R., et al. (2012). Tree height integrated pantropical forest biomass estimates. Biogeosciences, 9, 3381–3403.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/feldCoef.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Feldpausch et al. 2012 coefficients for generalized height-diameter models — feldCoef","text":"","code":"data(feldCoef) str(feldCoef) #> 'data.frame':\t12 obs. of  4 variables: #>  $ a  : num  50.1 50.5 44 53.1 42.6 ... #>  $ b  : num  0.0371 0.0471 0.0334 0.0331 0.0482 ... #>  $ c  : num  0.829 0.812 0.855 0.833 0.831 ... #>  $ RSE: num  5.74 6.18 5.47 5.17 5.62 ..."},{"path":"https://umr-amap.github.io/BIOMASS/reference/genusFamily.html","id":null,"dir":"Reference","previous_headings":"","what":"Genus Family database — genusFamily","title":"Genus Family database — genusFamily","text":"create database, combined genera Plant List (http://www.theplantlist.org/1.1/browse/-/-/) Vascular Plant Families Genera Kew (http://data.kew.org/vpfg1992/genlist.html). Families checked APGIII families.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/genusFamily.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Genus Family database — genusFamily","text":"","code":"data(\"genusFamily\")"},{"path":"https://umr-amap.github.io/BIOMASS/reference/genusFamily.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Genus Family database — genusFamily","text":"data frame 28107 observations following 2 variables: family: Vector families APGIII corrected genus: Vector genus","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/genusFamily.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Genus Family database — genusFamily","text":"WCSP (2015). World Checklist Selected Plant Families. Facilitated Royal Botanic Gardens, Kew. Published Internet; http://apps.kew.org/wcsp/ Retrieved 2015-12-17. Plant List (2013). Version 1.1. Published Internet; http://www.theplantlist.org/ Retrieved 2016-08-25.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/genusFamily.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Genus Family database — genusFamily","text":"","code":"data(genusFamily) str(genusFamily) #> 'data.frame':\t31355 obs. of  2 variables: #>  $ family: chr  \"Orchidaceae\" \"Euphorbiaceae\" \"Compositae\" \"Thelypteridaceae\" ... #>  $ genus : chr  \"Aa\" \"Aalius\" \"Aaronsohnia\" \"Abacopteris\" ..."},{"path":"https://umr-amap.github.io/BIOMASS/reference/getBioclimParam.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieving bioclimatic parameters — getBioclimParam","title":"Retrieving bioclimatic parameters — getBioclimParam","text":"function extracts three bioclimatic parameters thanks coordinates data: Climatic Water Deficit (CWD), Temperature Seasonality (TS) Precipitation Seasonality (PS).","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/getBioclimParam.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieving bioclimatic parameters — getBioclimParam","text":"","code":"getBioclimParam(coord)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/getBioclimParam.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieving bioclimatic parameters — getBioclimParam","text":"coord Coordinates site(s), matrix/dataframe two columns (e.g. cbind(longitude, latitude)) (see examples).","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/getBioclimParam.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieving bioclimatic parameters — getBioclimParam","text":"function returns data.frame tempSeas (temperature seasonality, .e. bioclimatic variable 4 Worldclim dataset; Hijmans et al. 2005), precSeas (precipitation seasonality, .e. bioclimatic variable 15 Worldclim dataset; Hijmans et al. 2005) CWD (climatic water deficit; Chave et al. 2014).","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/getBioclimParam.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Retrieving bioclimatic parameters — getBioclimParam","text":"function time-consuming first use downloads three raster files (one parameter) stored folders named wc2-5 CWD (see Localisation). However, soon raster downloaded , function runs fast.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/getBioclimParam.html","id":"localisation","dir":"Reference","previous_headings":"","what":"Localisation","title":"Retrieving bioclimatic parameters — getBioclimParam","text":"Cache path discovery protocol BIOMASS.cache option set existing folder existing user data folder rappdirs::user_data_dir() Linux : ~/.local/share/R/BIOMASS Mac OS X : ~/Library/Application Support/R/BIOMASS Windows 7 10 : C:\\\\Users\\\\<username>\\\\AppData\\\\Local\\\\R\\\\BIOMASS Windows XP : C:\\\\Documents Settings\\\\<username>\\\\Data\\\\R\\\\BIOMASS fallback R session tempdir","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/getBioclimParam.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Retrieving bioclimatic parameters — getBioclimParam","text":"Hijmans et al. (2005) high resolution interpolated climate surfaces global land areas, International journal climatology, 25(15), 1965-1978. Chave et al. (2014) Improved allometric models estimate -ground biomass tropical trees, Global Change Biology, 20 (10), 3177-3190","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/getBioclimParam.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Retrieving bioclimatic parameters — getBioclimParam","text":"Ariane TANGUY, Arthur PERE","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/getBioclimParam.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieving bioclimatic parameters — getBioclimParam","text":"","code":"# One study site lat <- 4.08 long <- -52.68 coord <- cbind(long, lat) # \\donttest{ bioclim <- getBioclimParam(coord) # }  # Several study sites (here three sites) long <- c(-52.68, -51.12, -53.11) lat <- c(4.08, 3.98, 4.12) coord <- cbind(long, lat) # \\donttest{ bioclim <- getBioclimParam(coord) # } closeAllConnections()"},{"path":"https://umr-amap.github.io/BIOMASS/reference/getTaxonomy.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve trees taxonomy — getTaxonomy","title":"Retrieve trees taxonomy — getTaxonomy","text":"getTaxonomy() now deprecated, correctTaxo() able handle retrieving taxonomy . given genus, function finds APG III family, optionally order, genusFamily database apgFamilies dataset","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/getTaxonomy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve trees taxonomy — getTaxonomy","text":"","code":"getTaxonomy(genus, findOrder = FALSE)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/getTaxonomy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve trees taxonomy — getTaxonomy","text":"genus Vector genus names findOrder (Boolean) TRUE, output contain taxonomical orders families.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/getTaxonomy.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve trees taxonomy — getTaxonomy","text":"Data frame order (findOrder TRUE), family genus.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/getTaxonomy.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Retrieve trees taxonomy — getTaxonomy","text":"Ariane TANGUY, Arthur PERE, Maxime REJOU-MECHAIN","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/getTaxonomy.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve trees taxonomy — getTaxonomy","text":"","code":"# Find the Family of the Aphelandra genus getTaxonomy(\"Aphelandra\") #> Warning: `getTaxonomy()` was deprecated in BIOMASS 2.2.8. #> ℹ Please use `correctTaxo()` instead. #>   inputGenus      family #> 1 Aphelandra Acanthaceae # ... and the order # \\donttest{ getTaxonomy(\"Aphelandra\", findOrder = TRUE) #>   inputGenus      family    order #> 1 Aphelandra Acanthaceae Lamiales # }"},{"path":"https://umr-amap.github.io/BIOMASS/reference/getWoodDensity.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimating wood density and associated uncertainties — getWoodDensity","title":"Estimating wood density and associated uncertainties — getWoodDensity","text":"function estimates wood density (WD) associated standard deviation trees taxonomy congeners using global wood density database V2 (Fischer et al. 2026) additional dataset sd also provided. WD can either attributed individual species, genus, family stand level.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/getWoodDensity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimating wood density and associated uncertainties — getWoodDensity","text":"","code":"getWoodDensity(   genus,   species,   family = NULL,   stand = NULL,   addWoodDensityData = NULL,   verbose = TRUE )"},{"path":"https://umr-amap.github.io/BIOMASS/reference/getWoodDensity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimating wood density and associated uncertainties — getWoodDensity","text":"genus Vector genus names. species Vector species names. family (optional) Vector families. set, missing wood densities genus level attributed family level available. stand (optional) Vector corresponding stands data. set, missing wood densities genus level attributed stand level. , value attributed mean whole tree dataset. addWoodDensityData dataframe containing additional wood density data combined global wood density database (see Details). verbose logical, give statistic database","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/getWoodDensity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimating wood density and associated uncertainties — getWoodDensity","text":"Returns dataframe containing following information: family: Family genus: Genus species: Species meanWD (g/cm^3): Mean wood density estimates sdWD (g/cm^3): Standard deviation estimates wood density levelWD: Level wood density calculated. Can species, genus, family, dataset (mean entire dataset) , stand set, name stand (mean current stand)","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/getWoodDensity.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimating wood density and associated uncertainties — getWoodDensity","text":"function assigns wood density estimates (WD) uncertainty (sigma) species, genus family level taxon, using results Bayesian hierarchical modelling Global Wood Density Database V2, following brms formula: WD ~ 1 + (1 | family / genus / species) + (1 | source_short) sigma ~ 1 + ind + (1 | species) uncertainties related genus family estimated simulating WD values species. taxon unidentified absent database, estimated WD uncertainty stand (set) given. supplying addWoodDensityData, dataframe organized follow: four (five) columns: \"genus\",\"species\",\"meanWD\",\"sdWD\" (fifth column \"family\" optional) one row per species (per individual measurement) taxa present addWoodDensityData replace GWDD V2 estimates.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/getWoodDensity.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Estimating wood density and associated uncertainties — getWoodDensity","text":"Fischer, F. J., et al. (2026). Beyond species means - intraspecific contribution global wood density variation. New Phytol. https://doi.org/10.1111/nph.70860 Fischer, F. J., et al. (2026). Global Wood Density Database v.2 (GWDD v.2) (Data set). Zenodo. https://doi.org/10.5281/zenodo.18262736","code":""},{"path":[]},{"path":"https://umr-amap.github.io/BIOMASS/reference/getWoodDensity.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Estimating wood density and associated uncertainties — getWoodDensity","text":"Arthur BAILLY, Maxime REJOU-MECHAIN, Fabian FISCHER, Dominique LAMONICA","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/getWoodDensity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimating wood density and associated uncertainties — getWoodDensity","text":"","code":"# Load a data set data(NouraguesTrees)  # Compute the Wood Density up to the genus level and give the mean wood density of the dataset # \\donttest{ WD <- getWoodDensity(   genus = NouraguesTrees$Genus,   species = NouraguesTrees$Species ) #> Your taxonomic table contains 409 taxa #> Warning: 142 taxa don't match the Global Wood Density Database V2. You may provide 'family' to match wood density estimates at family level. # }  # Compute the Wood Density up to the genus level and then give the mean wood density per stand # \\donttest{ WD <- getWoodDensity(   genus = NouraguesTrees$Genus,   species = NouraguesTrees$Species,   stand = NouraguesTrees$plotId ) #> Your taxonomic table contains 409 taxa #> Warning: 142 taxa don't match the Global Wood Density Database V2. You may provide 'family' to match wood density estimates at family level. # }"},{"path":"https://umr-amap.github.io/BIOMASS/reference/latlong2UTM.html","id":null,"dir":"Reference","previous_headings":"","what":"Translate the long lat coordinate in UTM coordinate — latlong2UTM","title":"Translate the long lat coordinate in UTM coordinate — latlong2UTM","text":"Translate long lat coordinate UTM coordinate","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/latlong2UTM.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Translate the long lat coordinate in UTM coordinate — latlong2UTM","text":"","code":"latlong2UTM(coord)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/latlong2UTM.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Translate the long lat coordinate in UTM coordinate — latlong2UTM","text":"coord Coordinates site(s), matrix/dataframe two columns (e.g. cbind(longitude, latitude)) (see examples).","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/latlong2UTM.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Translate the long lat coordinate in UTM coordinate — latlong2UTM","text":"data frame : long: longitude entry lat: latitude entry codeUTM: code proj UTM X: X UTM coordinate Y: Y UTM coordinate","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/latlong2UTM.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Translate the long lat coordinate in UTM coordinate — latlong2UTM","text":"","code":"long <- c(-52.68, -51.12, -53.11) lat <- c(4.08, 3.98, 4.12) coord <- cbind(long, lat) # \\donttest{ UTMcoord <- latlong2UTM(coord) #> Loading required namespace: proj4 # }"},{"path":"https://umr-amap.github.io/BIOMASS/reference/modelHD.html","id":null,"dir":"Reference","previous_headings":"","what":"Fitting height-diameter models — modelHD","title":"Fitting height-diameter models — modelHD","text":"function fits compares (optional) height-diameter models.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/modelHD.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fitting height-diameter models — modelHD","text":"","code":"modelHD(   D,   H,   method = NULL,   useWeight = FALSE,   drawGraph = FALSE,   plot = NULL,   bayesian = TRUE,   useCache = FALSE,   chains = 3,   thin = 5,   iter = 5000,   warmup = 500,   ... )"},{"path":"https://umr-amap.github.io/BIOMASS/reference/modelHD.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fitting height-diameter models — modelHD","text":"D Vector diameter measurements (cm). NA values accepted minimum 10 valid entries (.e. corresponding height H) required. H Vector total height measurements (m). NA values accepted minimum 10 valid entries (.e. corresponding diameter D) required. method Method used fit relationship. chosen : log1, log2 log 1: \\((log(H) = + b*log(D))\\) (equivalent power model) log 2: \\((log(H) = + b*log(D) + c*log(D)^2)\\) weibull: \\(H = *(1-exp(-(D/b)^c))\\) michaelis: \\(H = (* D)/(B + D)\\) NULL, methods compared. useWeight weight TRUE, model weights \\((D^2)*H\\) (.e. weights proportional tree volume, larger trees stronger influence construction model). drawGraph TRUE, graphic illustrate relationship H D. argument plot null. plot (optional) vector character containing plot ID's trees (linked D H). Must either one value, vector length D. argument used build stand-specific HD models. bayesian logical. FALSE (default) model estimated using frequentist framework (lm nls). TRUE, model estimated Bayesian framework using brms package. useCache logical. bayesian = TRUE, determine wether use cache building Bayesian model (see Details). chains (relevant bayesian = TRUE): Number Markov chains (defaults 3), see brms::brm() thin (relevant bayesian = TRUE): Thinning rate, see brms::brm() iter (relevant bayesian = TRUE): number total iterations per chain (including warmup; defaults 5000), see brms::brm() warmup (relevant bayesian = TRUE): number warmup (aka burnin) iterations (defaults 1000), see brms::brm() ... arguments passed brm(), e.g: prior, cores, etc. See brms::brm()","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/modelHD.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fitting height-diameter models — modelHD","text":"plot NULL single value, single list returned. one plot, multiple embedded lists returned plots list names. model null (model comparison), returns list : input: list data used construct model (list(H, D)) model: outputs model (outputs given stats::lm(), stats::nls()) residuals: Residuals model method: Name method used construct model predicted: Predicted height values RSE: Residual Standard Error model RSElog: Residual Standard Error log model (NULL model) fitPlot: ggplot object containing model fitting plot weighted: logical indicating whether weights used fit parameter model null, function return plot methods comparison, function also returns data.frame : method: method used construct plot RSE: Residual Standard Error model RSElog: Residual Standard Error log model (NULL model) Average_bias: average bias model","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/modelHD.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fitting height-diameter models — modelHD","text":"back transformations log-log models done using Baskerville correction (\\(0.5 * RSE^2\\), RSE Residual Standard Error). useCache = TRUE first time model built, model saved .rds file defined cache path (see createCache()). useCache = TRUE model already built using user cache, model loaded updated avoid wasting time re-compiling . useCache = NULL, cache first cleared building model.","code":""},{"path":[]},{"path":"https://umr-amap.github.io/BIOMASS/reference/modelHD.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Fitting height-diameter models — modelHD","text":"Maxime REJOU-MECHAIN, Arthur PERE, Ariane TANGUY, Arthur Bailly","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/modelHD.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fitting height-diameter models — modelHD","text":"","code":"# Load a data set data(NouraguesHD)  # Fit H-D models for the Nouragues dataset  HDmodel <- modelHD(D = NouraguesHD$D, H = NouraguesHD$H, drawGraph = TRUE)   #> To build a HD model you must use the parameter 'method' in this function  ### Using frequentist inference # For a selected model HDmodel <- modelHD(D = NouraguesHD$D, H = NouraguesHD$H,                    method = \"log2\", drawGraph = TRUE,                     bayesian = FALSE)   # Using weights HDmodel <- modelHD(   D = NouraguesHD$D, H = NouraguesHD$H,   method = \"log2\", useWeight = TRUE,   drawGraph = TRUE, bayesian = FALSE)   # With multiple stands (plots) HDmodel <- modelHD(   D = NouraguesHD$D, H = NouraguesHD$H,   method = \"log2\", useWeight = TRUE,    plot = NouraguesHD$plotId,   drawGraph = TRUE, bayesian = FALSE)    ### Using bayesian inference if (FALSE) HDmodel <- modelHD(D = NouraguesHD$D, H = NouraguesHD$H,    method = \"log2\", bayesian = TRUE, useCache = TRUE) plot(HDmodel$model)  # \\dontrun{} #> Warning: no non-missing arguments to min; returning Inf #> Warning: no non-missing arguments to max; returning -Inf #> Warning: no non-missing arguments to min; returning Inf #> Warning: no non-missing arguments to max; returning -Inf  #> Error in plot.window(...): need finite 'xlim' values    ### Using weibull bayesian model (time consuming) # As the algorithm is likely to find numerous local minima, # defining priors is strongly recommended (see \"Some tricks\" part in the vignette) # Also, since  model parameters and chain iterations are strongly correlated, # an increase of 'thin', 'iter' and 'warmup' may be required. if (FALSE) HDmodel <- modelHD(D = NouraguesHD$D, H = NouraguesHD$H,   method = \"weibull\", bayesian = TRUE, useCache = TRUE,  thin = 20, iter = 12000, warmup = 2000,  prior = c(brms::set_prior(prior = \"uniform(0,80)\",                            lb = 0, ub = 80, class = \"b\", nlpar = \"a\"),            brms::set_prior(prior = \"uniform(0,100)\",                            lb = 0, ub = 100, class = \"b\", nlpar = \"b\"),            brms::set_prior(prior = \"uniform(0.1,0.9)\",                            lb = 0.1, ub = 0.9, class = \"b\", nlpar = \"c\")))  # \\dontrun{}"},{"path":"https://umr-amap.github.io/BIOMASS/reference/numberCorner.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the UTM coordinates with the corner of the plot — numberCorner","title":"Get the UTM coordinates with the corner of the plot — numberCorner","text":"numberCorner()  now deprecated. Please see vignette Spatialized trees forest stand metrics BIOMASS Get UTM coordinates latitude longitude corners plot. function also assign number corners clockwise counterclockwise way, number 1 XY origin. Corner numbering done followed: axis X: corner 1 corner 2 axis Y: corner 1 corner 4","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/numberCorner.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the UTM coordinates with the corner of the plot — numberCorner","text":"","code":"numberCorner(longlat = NULL, projCoord = NULL, plot, origin, clockWise)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/numberCorner.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the UTM coordinates with the corner of the plot — numberCorner","text":"longlat (optional) data frame coordinates longitude latitude (eg. cbind(longitude, latitude)). projCoord (optional) data frame projected coordinates X Y plot vector codes (names) plots origin logical vector TRUE corresponding origin axis plot. clockWise logical, whether numbering done clockwise (TRUE) counterclockwise (FALSE) way.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/numberCorner.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the UTM coordinates with the corner of the plot — numberCorner","text":"data frame : plot: code plot X: coordinates X UTM Y: coordinates Y UTM corner: corner numbers","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/numberCorner.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Get the UTM coordinates with the corner of the plot — numberCorner","text":"Arthur PERE, Maxime REJOU-MECHAIN","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/numberCorner.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get the UTM coordinates with the corner of the plot — numberCorner","text":"","code":"coord <- data.frame(X = c(0, 200, 0, 200), Y = c(0, 0, 200, 200)) + 5000 plot <- rep(\"plot1\", 4) origin <- c(FALSE, FALSE, TRUE, FALSE)  # if you turn clock wise corner <- numberCorner(projCoord = coord, plot = plot, origin = origin, clockWise = TRUE) #> Warning: 'numberCorner()' is deprecated and will be removed in the next version. #> Please see the vignette `Spatialized trees and forest stand metrics with BIOMASS`  # Plot the plot plot(coord, asp = 1) text(coord, labels = corner$corner, pos = 1)    # Using a counterclockwise way corner <- numberCorner(projCoord = coord, plot = plot, origin = origin, clockWise = FALSE) #> Warning: 'numberCorner()' is deprecated and will be removed in the next version. #> Please see the vignette `Spatialized trees and forest stand metrics with BIOMASS`  # Plot the plot plot(coord, asp = 1) text(coord, labels = corner$corner, pos = 1)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/param_4.html","id":null,"dir":"Reference","previous_headings":"","what":"Posterior distribution of Chave et al.'s 2014 equation 4 parameters — param_4","title":"Posterior distribution of Chave et al.'s 2014 equation 4 parameters — param_4","text":"matrix contains posterior distribution parameters Equation 4 Chave et al. (2014), obtained Bayesian framework uninformative priors Metropolis algorithm.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/param_4.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Posterior distribution of Chave et al.'s 2014 equation 4 parameters — param_4","text":"","code":"data(\"param_4\")"},{"path":"https://umr-amap.github.io/BIOMASS/reference/param_4.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Posterior distribution of Chave et al.'s 2014 equation 4 parameters — param_4","text":"data frame 1001 observations following 3 variables. intercept: Vector intercept values logagbt: Vector model coefficients associated product wood density * diameter^2 * height sd: Vector model residual standard error (RSE) values","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/param_4.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Posterior distribution of Chave et al.'s 2014 equation 4 parameters — param_4","text":"dataset used function AGBmonteCarlo().","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/param_4.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Posterior distribution of Chave et al.'s 2014 equation 4 parameters — param_4","text":"Chave et al. (2014) Improved allometric models estimate aboveground biomass tropical trees, Global Change Biology, 20 (10), 3177-3190","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/param_4.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Posterior distribution of Chave et al.'s 2014 equation 4 parameters — param_4","text":"","code":"data(param_4) str(param_4) #> 'data.frame':\t1001 obs. of  3 variables: #>  $ intercept: num  -2.72 -2.76 -2.75 -2.77 -2.75 ... #>  $ logagbt  : num  0.971 0.975 0.975 0.976 0.973 ... #>  $ sd       : num  0.355 0.357 0.355 0.362 0.358 ..."},{"path":"https://umr-amap.github.io/BIOMASS/reference/param_7.html","id":null,"dir":"Reference","previous_headings":"","what":"Posterior distribution of parameters associated with the equation 7 by Chave et al. 2014. — param_7","title":"Posterior distribution of parameters associated with the equation 7 by Chave et al. 2014. — param_7","text":"matrix contains posterior distribution parameters Equation 7 Chave et al., (2014), obtained Bayesian framework uninformative priors Metropolis algorithm.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/param_7.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Posterior distribution of parameters associated with the equation 7 by Chave et al. 2014. — param_7","text":"","code":"data(\"param_7\")"},{"path":"https://umr-amap.github.io/BIOMASS/reference/param_7.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Posterior distribution of parameters associated with the equation 7 by Chave et al. 2014. — param_7","text":"data frame 1001 observations following 9 variables. intercept: Vector intercept values logwsg: Vector model coefficients associated log(wood density) logdbh: Vector model coefficients associated log(diameter) logdbh2: Vector model coefficients associated log(diameter)^2 E: Vector model coefficients associated environmental index E sd: Vector model residual standard error (RSE) values temp: Vector model coefficients associated temperature seasonality cwd: Vector model coefficients associated climatic water deficit prec: Vector model coefficients associated precipitation seasonality","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/param_7.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Posterior distribution of parameters associated with the equation 7 by Chave et al. 2014. — param_7","text":"dataset used function AGBmonteCarlo().","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/param_7.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Posterior distribution of parameters associated with the equation 7 by Chave et al. 2014. — param_7","text":"Chave et al. (2014) Improved allometric models estimate aboveground biomass tropical trees, Global Change Biology, 20 (10), 3177-3190","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/param_7.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Posterior distribution of parameters associated with the equation 7 by Chave et al. 2014. — param_7","text":"","code":"data(param_7) str(param_7) #> 'data.frame':\t1001 obs. of  9 variables: #>  $ intercept: num  -2.08 -1.94 -1.98 -2 -2.08 ... #>  $ logwsg   : num  0.919 0.898 0.941 0.904 0.914 ... #>  $ logdbh   : num  2.75 2.67 2.69 2.69 2.77 ... #>  $ logdbh2  : num  -0.0358 -0.0275 -0.0314 -0.0245 -0.0403 ... #>  $ E        : num  -0.892 -0.838 -0.856 -0.878 -0.88 ... #>  $ sd       : num  0.407 0.415 0.406 0.417 0.429 ... #>  $ temp     : num  -0.18 -0.185 -0.184 -0.17 -0.185 ... #>  $ cwd      : num  0.947 0.921 0.917 0.965 0.877 ... #>  $ prec     : num  6.88 6.4 6.46 6.65 6.29 ..."},{"path":"https://umr-amap.github.io/BIOMASS/reference/predictHeight.html","id":null,"dir":"Reference","previous_headings":"","what":"Tree height predictions — predictHeight","title":"Tree height predictions — predictHeight","text":"function predicts height diameter based fitted model. predict() function brms models takes ~10 minutes run, predictions calculated using coefficients models directly.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/predictHeight.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tree height predictions — predictHeight","text":"","code":"predictHeight(D, model, err = FALSE, plot = NULL)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/predictHeight.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tree height predictions — predictHeight","text":"D n x m matrix containing tree diameters (cm), n number trees m number Monte Carlo simulations (m = 1 error propagation). model output modelHD() function. err TRUE, error taken randomly normal distribution mean zero standard deviation equaled residual standard error model (RSE). used Monte Carlo approach (see AGBmonteCarlo()), otherwise let FALSE, default case. plot (optional) Plot ID, must either one value, vector length D. argument used build stand-specific HD models.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/predictHeight.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tree height predictions — predictHeight","text":"Returns vector total tree height (m).","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/predictHeight.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Tree height predictions — predictHeight","text":"case error FALSE model log-log model, use Baskerville correction, bias correction factor used get unbiased backtransformation values.","code":""},{"path":[]},{"path":"https://umr-amap.github.io/BIOMASS/reference/predictHeight.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Tree height predictions — predictHeight","text":"Arthur BAILLY","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/predict_map.html","id":null,"dir":"Reference","previous_headings":"","what":"Predict map of AGBD and associated uncertainty — predict_map","title":"Predict map of AGBD and associated uncertainty — predict_map","text":"part FRM4BIOMASS project, function enables produce map AGBD associated uncertainty, using spatially varying coefficient calibrated model created calibrate_model() function.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/predict_map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Predict map of AGBD and associated uncertainty — predict_map","text":"","code":"predict_map(   fit_brms,   pred_raster,   grid_size,   raster_fun = mean,   n_cores = getOption(\"mc.cores\", 1),   n_post_draws = 50,   alignment_raster = NULL,   plot_maps = TRUE )"},{"path":"https://umr-amap.github.io/BIOMASS/reference/predict_map.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Predict map of AGBD and associated uncertainty — predict_map","text":"fit_brms brmsfit object, output calibrate_model() function. pred_raster filename (character) SpatRaster object terra package: raster predict using fit_brms (typically CHM raster created LiDAR data) grid_size numeric indicating dimension grid cells. Must identical 'grid_size' used divide_plot() raster_fun function apply summarize values 'pred_raster'. Must identical 'raster_fun' used subplot_summary() n_cores number cores use predictions n_post_draws positive integer indicating many posterior draws used alignment_raster filename (character) SpatRaster object terra package: raster whose coordinates used align coordinates predicted raster. plot_maps logical indicating whether maps displayed (median, sd CV AGBD posterior distributions)","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/predict_map.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Predict map of AGBD and associated uncertainty — predict_map","text":"data-table format 'pred_raster', following variables added: post_median_AGBD: median posterior distributions predicted AGBDs post_sd_AGBD: sd posterior distributions predicted AGBDs post_cred_2.5_AGBD post_cred_97.5_AGBD: 2.5 97.5 quantiles posterior distributions predicted AGBDs","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/predict_map.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Predict map of AGBD and associated uncertainty — predict_map","text":"Speak parallel computing ?","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/predict_map.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Predict map of AGBD and associated uncertainty — predict_map","text":"Arthur Bailly","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/predict_map.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Predict map of AGBD and associated uncertainty — predict_map","text":"","code":"if (FALSE) { # \\dontrun{  } # }"},{"path":"https://umr-amap.github.io/BIOMASS/reference/procrust.html","id":null,"dir":"Reference","previous_headings":"","what":"Procrust analysis — procrust","title":"Procrust analysis — procrust","text":"procrust analysis. X target matrix, Y matrix want fit target. function returns translation vector rotation matrix procrust problem must rotation translation. Warning : order value matrix important","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/procrust.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Procrust analysis — procrust","text":"","code":"procrust(X, Y)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/procrust.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Procrust analysis — procrust","text":"X target matrix Y matrix want fit target","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/procrust.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Procrust analysis — procrust","text":"list translation vector matrix rotation","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/procrust.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Procrust analysis — procrust","text":"Arthur PERE","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/retrieveH.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieving tree height from models — retrieveH","title":"Retrieving tree height from models — retrieveH","text":"diameter either ) model, ii) coordinates plot iii) region, function gives estimate total tree height.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/retrieveH.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieving tree height from models — retrieveH","text":"","code":"retrieveH(D, model = NULL, coord = NULL, region = NULL, plot = NULL)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/retrieveH.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieving tree height from models — retrieveH","text":"D Vector diameters. model model output function modelHD(). coord Coordinates site(s), either vector (e.g. c(longitude, latitude)) matrix/dataframe two columns (e.g. cbind(longitude, latitude)). region Area dataset estimate tree height thanks Weibull-H region-, continent-specific pantropical models proposed Feldpausch et al. (2012). chosen : Africa: Africa CAfrica: Central Africa EAfrica: Eastern Africa WAfrica: Western Africa SAmerica: Southern America BrazilianShield: Brazilian Shield ECAmazonia: East-Central Amazonia GuianaShield: Guiana Shield WAmazonia: Western Amazonia SEAsia: South-Eastern Asia NAustralia: Northern Australia Pantropical: Pantropical plot (optional) Plot ID, must either one value, vector length D. argument used build stand-specific HD models.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/retrieveH.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieving tree height from models — retrieveH","text":"Returns list : H: Height predicted model RSE Residual Standard Error model, vector plot","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/retrieveH.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Retrieving tree height from models — retrieveH","text":"Feldpausch et al. Tree height integrated pantropical forest biomass estimates. Biogeosciences (2012): 3381-3403. Chave et al. Improved allometric models estimate aboveground biomass tropical trees. Global change biology 20.10 (2014): 3177-3190.","code":""},{"path":[]},{"path":"https://umr-amap.github.io/BIOMASS/reference/retrieveH.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Retrieving tree height from models — retrieveH","text":"Ariane TANGUY, Maxime REJOU-MECHAIN, Arthur PERE","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/retrieveH.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieving tree height from models — retrieveH","text":"","code":"# Load a database data(NouraguesHD) model <- modelHD(D = NouraguesHD$D, H = NouraguesHD$H, method = \"log2\", bayesian = FALSE)  # If any height model is available H <- retrieveH(D = NouraguesHD$D, model = model)  # If the only data available are the coordinates of your spot n <- length(NouraguesHD$D) coord <- cbind(long = rep(-52.68, n), lat = rep(4.08, n)) # \\donttest{ H <- retrieveH(D = NouraguesHD$D, coord = coord) # }  # If the only data available is the region of your spot H <- retrieveH(D = NouraguesHD$D, region = \"GuianaShield\") closeAllConnections()"},{"path":"https://umr-amap.github.io/BIOMASS/reference/subPattern.html","id":null,"dir":"Reference","previous_headings":"","what":"Common taxonomic name substitutions — subPattern","title":"Common taxonomic name substitutions — subPattern","text":"Common taxonomic name substitutions","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/subPattern.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Common taxonomic name substitutions — subPattern","text":"","code":"subPattern()"},{"path":"https://umr-amap.github.io/BIOMASS/reference/subPattern.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Common taxonomic name substitutions — subPattern","text":"character vector regular expressions use gsub()","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/subPattern.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Common taxonomic name substitutions — subPattern","text":"Used argument sub_pattern correctTaxo()","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/subplot_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarise and display tree information by subplot — subplot_summary","title":"Summarise and display tree information by subplot — subplot_summary","text":"applying divide_plot() function, function summarises defined function desired tree metric (including AGB simulations calculated AGBmonteCarlo() function) sub-plot displays plot representation.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/subplot_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarise and display tree information by subplot — subplot_summary","text":"","code":"subplot_summary(   subplots,   value = NULL,   AGB_simu = NULL,   draw_plot = TRUE,   per_ha = TRUE,   fun = sum,   ref_raster = NULL,   raster_fun = mean,   ... )"},{"path":"https://umr-amap.github.io/BIOMASS/reference/subplot_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarise and display tree information by subplot — subplot_summary","text":"subplots output divide_plot() function value character indicating column subplots$tree_data summarised (character vector summarise several metrics ) AGB_simu n x m matrix containing individual AGB n number tree m number monte carlo simulation. Typically, output '$AGB_simu' AGBmonteCarlo() function. draw_plot logical indicating whether plot design displayed per_ha logical indicating whether metric summary per hectare (, summarising several metrics : logical vector corresponding metric (see examples)) fun function applied tree metric subplot (, summarising several metrics : list functions named according metric (see examples)) ref_raster SpatRaster object terra package, typically chm raster created LiDAR data. Note case multiple attributes raster, first variable \"z\" summarised. raster_fun function (list functions) applied raster values subplot. ... optional arguments fun","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/subplot_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarise and display tree information by subplot — subplot_summary","text":"list containing following elements: tree_summary: summary metric(s) per subplot polygon: simple feature collection summarised subplot's polygon plot_design : ggplot object (list ggplot objects) can easily modified 'AGB_simu' provided, function also return $long_AGB_simu: data.table containing resulting AGBD, extracted raster values (ref_raster provided) coordinates center per subplot per simulation.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/subplot_summary.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Summarise and display tree information by subplot — subplot_summary","text":"Arthur Bailly","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/subplot_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summarise and display tree information by subplot — subplot_summary","text":"","code":"# One plot with repeated measurements of each corner data(\"NouraguesPlot201\") data(\"NouraguesTrees\")  check_plot201 <- check_plot_coord(   corner_data = NouraguesPlot201,   proj_coord = c(\"Xutm\",\"Yutm\"), rel_coord = c(\"Xfield\",\"Yfield\"),   trust_GPS_corners = TRUE, draw_plot = FALSE) subplots_201 <- suppressWarnings(   divide_plot(     corner_data = check_plot201$corner_coord,      rel_coord = c(\"x_rel\",\"y_rel\"), proj_coord = c(\"x_proj\",\"y_proj\"),     grid_size = 50,     tree_data =  NouraguesTrees[NouraguesTrees$Plot == 201,],     tree_coords = c(\"Xfield\",\"Yfield\"))) # Sum summary (by default) of diameter subplots_201_sum <- subplot_summary(subplots_201 , value = \"D\", draw_plot = FALSE) subplots_201_sum$tree_summary #>     subplot_ID D_sum_per_ha #>         <char>        <num> #> 1: subplot_0_0     10656.19 #> 2: subplot_1_0     12103.82 #> 3: subplot_0_1     10708.82 #> 4: subplot_1_1     12972.33 # \\donttest{   subplots_201_sum$plot_design  # } # 9th quantile summary (for example) of diameter subplots_201_quant <- subplot_summary(subplots_201 , value = \"D\", draw_plot = FALSE,                                       fun = quantile, probs=0.9)     # Dealing with multiple plots and metrics if (FALSE) { # \\dontrun{   data(\"NouraguesCoords\")   nouragues_subplots <- suppressWarnings(   divide_plot(      corner_data = NouraguesCoords,     rel_coord = c(\"Xfield\",\"Yfield\"), proj_coord = c(\"Xutm\",\"Yutm\"),     corner_plot_ID = \"Plot\",     grid_size = 50,     tree_data = NouraguesTrees, tree_coords =  c(\"Xfield\",\"Yfield\"),     tree_plot_ID = \"Plot\"))   nouragues_mult <- subplot_summary(nouragues_subplots ,                                     value = c(\"D\",\"D\",\"x_rel\"),                                    fun = list(D=sum,D=mean,x_rel=mean),                                    per_ha = c(T,F,F),                                    draw_plot = FALSE)   nouragues_mult$tree_summary   nouragues_mult$plot_design$`201`[[1]]   nouragues_mult$plot_design$`201`[[2]]   nouragues_mult$plot_design$`201`[[3]] } # }  # Dealing with AGB simulations, coordinates uncertainties of corners and a CHM raster if (FALSE) { # \\dontrun{   NouraguesTrees201 <- NouraguesTrees[NouraguesTrees$Plot == 201,]   nouragues_raster <- terra::rast(     system.file(\"extdata\", \"NouraguesRaster.tif\",                 package = \"BIOMASS\", mustWork = TRUE)   )      # Modelling height-diameter relationship   HDmodel <- modelHD(D = NouraguesHD$D, H = NouraguesHD$H, method = \"log2\", bayesian = FALSE)   # Retrieving wood density values   Nouragues201WD <- getWoodDensity(     genus = NouraguesTrees201$Genus,     species = NouraguesTrees201$Species)   # MCMC AGB simulations   resultMC <- AGBmonteCarlo(     D = NouraguesTrees201$D, Dpropag = \"chave2004\",     WD = Nouragues201WD$meanWD, errWD = Nouragues201WD$sdWD,     HDmodel = HDmodel,     n = 200   )   # Dividing plot 201 with coordinates uncertainties     nouragues_subplots <- suppressWarnings(     divide_plot(       corner_data = check_plot201$corner_coord,       rel_coord = c(\"x_rel\",\"y_rel\"), proj_coord = c(\"x_proj\",\"y_proj\"),       grid_size = 50,       tree_data = NouraguesTrees201, tree_coords =  c(\"Xfield\",\"Yfield\"),       sd_coord = check_plot201$sd_coord, n = 200     )   )   # Summary (may take few minutes to extract all raster metrics)   res_summary <- subplot_summary(     subplots = nouragues_subplots,      AGB_simu = resultMC$AGB_simu,     ref_raster = nouragues_raster,     raster_fun = mean, na.rm = TRUE)        res_summary$tree_summary   res_summary$plot_design[[1]]   head(res_summary$long_AGB_simu) } # }"},{"path":"https://umr-amap.github.io/BIOMASS/reference/summaryByPlot.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarise by plot the posterior distribution of AGB values — summaryByPlot","title":"Summarise by plot the posterior distribution of AGB values — summaryByPlot","text":"function summarises matrix AGB_val given function AGBmonteCarlo() plot.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/summaryByPlot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarise by plot the posterior distribution of AGB values — summaryByPlot","text":"","code":"summaryByPlot(AGB_val, plot, drawPlot = FALSE)"},{"path":"https://umr-amap.github.io/BIOMASS/reference/summaryByPlot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarise by plot the posterior distribution of AGB values — summaryByPlot","text":"AGB_val Either matrix resulting AGBmonteCarlo() function (AGB_simu element list), simply output AGBmonteCarlo() function . plot Vector corresponding plots code (plots ID) drawPlot logical indicating whether graphic displayed ","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/summaryByPlot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarise by plot the posterior distribution of AGB values — summaryByPlot","text":"data frame : plot: code plot AGB: AGB value plot level Cred_2.5: 2.5\\ Cred_97.5: 97.5\\","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/summaryByPlot.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Summarise by plot the posterior distribution of AGB values — summaryByPlot","text":"trees belong unknown plot (.e. NA value plot arguments), AGB values randomly assigned plot iteration AGB monte Carlo approach.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/summaryByPlot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summarise by plot the posterior distribution of AGB values — summaryByPlot","text":"","code":"# Load a database data(NouraguesHD) data(NouraguesTrees)  # Modelling height-diameter relationship HDmodel <- modelHD(D = NouraguesHD$D, H = NouraguesHD$H, method = \"log2\", bayesian = FALSE)  # Retrieving wood density values # \\donttest{   NouraguesWD <- getWoodDensity(NouraguesTrees$Genus, NouraguesTrees$Species,                                 stand = NouraguesTrees$plotId) #> Your taxonomic table contains 409 taxa #> Warning: 142 taxa don't match the Global Wood Density Database V2. You may provide 'family' to match wood density estimates at family level. # }  # Propagating errors # \\donttest{   resultMC <- AGBmonteCarlo(     D = NouraguesTrees$D, WD = NouraguesWD$meanWD,     errWD = NouraguesWD$sdWD, HDmodel = HDmodel )      # The summary by plot   summaryByPlot(AGB_val = resultMC$AGB_simu, plot = NouraguesTrees$Plot) #>   plot      AGB Cred_2.5 Cred_97.5 #> 1  201 438.7902 396.9703  490.4543 #> 2  204 500.2492 455.4215  551.6338 #> 3  213 399.3600 358.4331  448.6508 #> 4  223 271.5251 249.0423  300.4295 # }"},{"path":"https://umr-amap.github.io/BIOMASS/reference/wsg_estimates.html","id":null,"dir":"Reference","previous_headings":"","what":"The global wood density database — wsg_estimates","title":"The global wood density database — wsg_estimates","text":"Global Wood Density Database v.2 (GWDD v.2) (Fischer, F. J., et al. 2026).","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/wsg_estimates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The global wood density database — wsg_estimates","text":"","code":"data(\"wsg_estimates\")"},{"path":"https://umr-amap.github.io/BIOMASS/reference/wsg_estimates.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"The global wood density database — wsg_estimates","text":"data frame 20332 observations following 6 variables. family: character vector indicating family genus: character vector indicating genus species: character vector indicating species wsg: numeric vector mean wood density population (g/cm^3) taxonomic level sd: numeric vector standard deviation wood density popuation (g/cm^3) taxonomic level level_tax: character vector taxonomic level (namely family genus species)","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/wsg_estimates.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"The global wood density database — wsg_estimates","text":"Fischer, F. J., et al. (2026). Global Wood Density Database v.2 (GWDD v.2) (Data set). Zenodo. https://doi.org/10.5281/zenodo.18262736","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/wsg_estimates.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"The global wood density database — wsg_estimates","text":"dataset used function getWoodDensity(), estimate taxon-average wood density value.","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/wsg_estimates.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"The global wood density database — wsg_estimates","text":"Fischer, F. J., et al. (2026). Beyond species means - intraspecific contribution global wood density variation. New Phytol. https://doi.org/10.1111/nph.70860","code":""},{"path":"https://umr-amap.github.io/BIOMASS/reference/wsg_estimates.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"The global wood density database — wsg_estimates","text":"","code":"data(wsg_estimates) str(wsg_estimates) #> 'data.frame':\t20332 obs. of  6 variables: #>  $ family   : chr  \"Acanthaceae\" \"Acanthaceae\" \"Acanthaceae\" \"Acanthaceae\" ... #>  $ genus    : chr  NA \"Acanthus\" \"Acanthus\" \"Aphelandra\" ... #>  $ species  : chr  NA NA \"Acanthus montanus\" NA ... #>  $ wsg      : num  0.494 0.443 0.443 0.563 0.563 ... #>  $ sd       : num  0.1565 0.0813 0.0813 0.093 0.093 ... #>  $ level_tax: chr  \"family\" \"genus\" \"species\" \"genus\" ..."}]
